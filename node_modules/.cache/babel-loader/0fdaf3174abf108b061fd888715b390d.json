{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sumac\\\\Documents\\\\GitHub\\\\chronovis-paintbox\\\\src\\\\components\\\\Connection.js\";\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Connection(props) {\n  const handleSubmit = e => {\n    e.preventDefault();\n    /*\r\n      - error handling: check if target[0] and target[1] exists\r\n      - find instant w/ id of target[0] and:\r\n        - If target[1] is:\r\n          - instant, target[1].id\r\n          - interval, {\"x\": target.x-source.x, \"y\": mouse pointer, \"scale\":\"smalls\"}\r\n          - zone, {\"x\": 1622, \"y\": 12, \"scale\":\"smalls\"}\r\n    */\n\n    if (!props.target[0] || !props.target[0]) {\n      console.log(\"error\");\n      return;\n    }\n\n    const newInstants = [...props.data];\n    const instant = newInstants.find(n => n.id === props.target[0].id);\n\n    if (props.target[1].x) {\n      //for interval and zone\n      const target = props.target[1];\n      instant.connections = [{\n        \"x\": target.x,\n        \"y\": target.y,\n        \"scale\": target.scale\n      }, 0];\n    } else {\n      //for instants\n      const instant2 = newInstants.find(n => n.id === props.target[1].id);\n      instant.connections = [instant2.id, 0];\n      instant2.connections = [instant.id, 1];\n    } //\n    // if (props.target.start) { //zone\n    //   const newzones = [...props.zones];\n    //   const zone = newzones.find(n => n.id === props.target.id);\n    //   zone.importance = parseFloat(input);\n    //   props.setZones(newZones);\n    //   return;\n    // }\n    //\n    //\n    // if (props.target.source) { //link\n    //   const instant = newInstants.find(n => n.id === props.target.source.id);\n    //   instant.intervalWidth = instant.intervalWidth ? instant.intervalWidth*(1+input/2) : props.radius/3*(1+input/2); //if intervalWidth defined, multiply. otherwise, use default\n    // } else { //instant\n    //   const instant = newInstants.find(n => n.id === props.target.id);\n    //   instant.radius = instant.radius ? instant.radius*(1+input/2) : props.radius*(1+input/2); //if radius defined, multiply. otherwise, use default radius\n    // }\n\n\n    props.setData(newInstants);\n  };\n\n  const handleClose = e => {\n    props.setToggle(null);\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"ui absolute center\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"right\",\n      onClick: handleClose,\n      children: \"x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 65\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Connect\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: props.target[0] ? `${props.target[0].name}(${props.target[0].id})` : \"None\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), \" \", !props.target[2] && \"<\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 116\n      }, this), \"with\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: props.target[1] ? `${props.target[1].name}(${props.target[1].id})` : \"None\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), \" \", props.target[2] === 1 && \"<\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"submit\",\n      value: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Connection;\nexport default Connection;\n\nvar _c;\n\n$RefreshReg$(_c, \"Connection\");","map":{"version":3,"names":["React","useState","Connection","props","handleSubmit","e","preventDefault","target","console","log","newInstants","data","instant","find","n","id","x","connections","y","scale","instant2","setData","handleClose","setToggle","name"],"sources":["C:/Users/Sumac/Documents/GitHub/chronovis-paintbox/src/components/Connection.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction Connection(props) {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    /*\r\n      - error handling: check if target[0] and target[1] exists\r\n      - find instant w/ id of target[0] and:\r\n        - If target[1] is:\r\n          - instant, target[1].id\r\n          - interval, {\"x\": target.x-source.x, \"y\": mouse pointer, \"scale\":\"smalls\"}\r\n          - zone, {\"x\": 1622, \"y\": 12, \"scale\":\"smalls\"}\r\n    */\r\n\r\n    if (!props.target[0] || !props.target[0]) {\r\n      console.log(\"error\")\r\n      return;\r\n    }\r\n\r\n    const newInstants = [...props.data];\r\n    const instant = newInstants.find(n => n.id === props.target[0].id);\r\n    if (props.target[1].x) { //for interval and zone\r\n      const target = props.target[1]\r\n      instant.connections = [{\"x\": target.x, \"y\": target.y, \"scale\": target.scale}, 0]\r\n    } else { //for instants\r\n      const instant2 = newInstants.find(n => n.id === props.target[1].id);\r\n      instant.connections = [instant2.id, 0];\r\n      instant2.connections = [instant.id, 1];\r\n    }\r\n    //\r\n    // if (props.target.start) { //zone\r\n    //   const newzones = [...props.zones];\r\n    //   const zone = newzones.find(n => n.id === props.target.id);\r\n    //   zone.importance = parseFloat(input);\r\n    //   props.setZones(newZones);\r\n    //   return;\r\n    // }\r\n    //\r\n\r\n    //\r\n    // if (props.target.source) { //link\r\n    //   const instant = newInstants.find(n => n.id === props.target.source.id);\r\n    //   instant.intervalWidth = instant.intervalWidth ? instant.intervalWidth*(1+input/2) : props.radius/3*(1+input/2); //if intervalWidth defined, multiply. otherwise, use default\r\n    // } else { //instant\r\n    //   const instant = newInstants.find(n => n.id === props.target.id);\r\n    //   instant.radius = instant.radius ? instant.radius*(1+input/2) : props.radius*(1+input/2); //if radius defined, multiply. otherwise, use default radius\r\n    // }\r\n    props.setData(newInstants);\r\n\r\n\r\n  };\r\n\r\n  const handleClose = (e) => {\r\n    props.setToggle(null);\r\n    e.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <form className=\"ui absolute center\" onSubmit={handleSubmit}>\r\n      <button className=\"right\" onClick={handleClose}>x</button><br/>\r\n      <p>\r\n        Connect<br/>\r\n        <b>{props.target[0]?`${props.target[0].name}(${props.target[0].id})`: \"None\"}</b> {!props.target[2] && \"<\"}<br/>\r\n        with<br/>\r\n        <b>{props.target[1]?`${props.target[1].name}(${props.target[1].id})`: \"None\"}</b> {props.target[2]===1 && \"<\"}\r\n      </p>\r\n      <input type=\"submit\" value=\"Submit\"/>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Connection;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}