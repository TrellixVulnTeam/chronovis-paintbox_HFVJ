{"ast":null,"code":"/*\r\n  - delete an individual instant\r\n*/\nfunction deleteInstant(target, data, updateSrc) {\n  const newData = { ...data\n  }; // const dataKeys = Object.entries(newData).map(([k,v]) => k);\n\n  const dataValues = Object.entries(newData).map(_ref => {\n    let [k, v] = _ref;\n    return v;\n  }); //comb thru data and delete all references to deleted instant\n\n  dataValues.forEach(v => {\n    if (!v.target || !v.target.includes(target[0])) {\n      return;\n    } else {\n      //if v.target includes key\n      if (v.target.length > 1) {\n        //if multiple, delete only key\n        v.target = v.target.filter(x => x !== target[0]);\n      } else {\n        //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n  delete newData[target[0]];\n  updateSrc(newData);\n}\n\n;\nexport default deleteInstant;","map":{"version":3,"names":["deleteInstant","target","data","updateSrc","newData","dataValues","Object","entries","map","k","v","forEach","includes","length","filter","x"],"sources":["C:/Users/Sumac/Documents/GitHub/chronovis-paintbox/src/components/deleteInstant.js"],"sourcesContent":["/*\r\n  - delete an individual instant\r\n*/\r\n\r\nfunction deleteInstant(target, data, updateSrc) {\r\n  const newData = {...data};\r\n  // const dataKeys = Object.entries(newData).map(([k,v]) => k);\r\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\r\n\r\n  //comb thru data and delete all references to deleted instant\r\n  dataValues.forEach(v => {\r\n    if (!v.target || !v.target.includes(target[0])) {\r\n      return;\r\n    } else { //if v.target includes key\r\n      if (v.target.length > 1) { //if multiple, delete only key\r\n        v.target = v.target.filter((x) => x !== target[0]);\r\n      } else { //if key is the only target, set to null\r\n        v.target = null;\r\n      }\r\n    }\r\n  });\r\n\r\n  delete newData[target[0]];\r\n  updateSrc(newData);\r\n};\r\n\r\nexport default deleteInstant;\r\n"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,aAAT,CAAuBC,MAAvB,EAA+BC,IAA/B,EAAqCC,SAArC,EAAgD;EAC9C,MAAMC,OAAO,GAAG,EAAC,GAAGF;EAAJ,CAAhB,CAD8C,CAE9C;;EACA,MAAMG,UAAU,GAAGC,MAAM,CAACC,OAAP,CAAeH,OAAf,EAAwBI,GAAxB,CAA4B;IAAA,IAAC,CAACC,CAAD,EAAGC,CAAH,CAAD;IAAA,OAAWA,CAAX;EAAA,CAA5B,CAAnB,CAH8C,CAK9C;;EACAL,UAAU,CAACM,OAAX,CAAmBD,CAAC,IAAI;IACtB,IAAI,CAACA,CAAC,CAACT,MAAH,IAAa,CAACS,CAAC,CAACT,MAAF,CAASW,QAAT,CAAkBX,MAAM,CAAC,CAAD,CAAxB,CAAlB,EAAgD;MAC9C;IACD,CAFD,MAEO;MAAE;MACP,IAAIS,CAAC,CAACT,MAAF,CAASY,MAAT,GAAkB,CAAtB,EAAyB;QAAE;QACzBH,CAAC,CAACT,MAAF,GAAWS,CAAC,CAACT,MAAF,CAASa,MAAT,CAAiBC,CAAD,IAAOA,CAAC,KAAKd,MAAM,CAAC,CAAD,CAAnC,CAAX;MACD,CAFD,MAEO;QAAE;QACPS,CAAC,CAACT,MAAF,GAAW,IAAX;MACD;IACF;EACF,CAVD;EAYA,OAAOG,OAAO,CAACH,MAAM,CAAC,CAAD,CAAP,CAAd;EACAE,SAAS,CAACC,OAAD,CAAT;AACD;;AAAA;AAED,eAAeJ,aAAf"},"metadata":{},"sourceType":"module"}