{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sumac\\\\Documents\\\\GitHub\\\\chronovis-paintbox\\\\src\\\\components\\\\ImportDataForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\n/*\r\n  For saving and downloading JSON data onto computer.\r\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ImportDataForm(_ref) {\n  _s();\n\n  let {\n    setToggle,\n    updateSrc,\n    setFileName,\n    setProj\n  } = _ref;\n  const [selectedFile, setSelectedFile] = useState();\n  const [isSelected, setIsSelected] = useState(false);\n\n  const handleChange = e => {\n    setSelectedFile(e.target.files[0]);\n    setIsSelected(true);\n    e.preventDefault();\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!selectedFile) {\n      alert(\"Please select a file!\");\n      return;\n    }\n\n    let fileReader = new FileReader();\n    fileReader.readAsText(selectedFile);\n\n    fileReader.onload = () => {\n      const newSrc = JSON.parse(fileReader.result); //add different cases for JSON and img\n\n      setFileName(selectedFile.name.replace(\".json\", \"\")); //chop off .json extension from name\n      // console.log(newSrc);\n\n      updateSrc(newSrc, \"import\"); // setSrc(newSrc);\n      // setScales(newSrc.scales);\n      // setActiveScale([Object.keys(newSrc.scales.x)[0],Object.keys(newSrc.scales.y)[0]]);\n      // setActiveData(0);\n      // setData(newSrc.instants[activeData]);\n      // setZones(newSrc.zones);\n    };\n\n    fileReader.onerror = () => {\n      console.log(fileReader.error);\n    };\n\n    setProj(true);\n    setToggle(null);\n  };\n\n  const handleClose = e => {\n    setToggle(null);\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"ui absolute center\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"right uiButton closeButton\",\n      onClick: handleClose,\n      children: \"x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 86\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"data\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 64\n    }, this), isSelected ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"File name: \", selectedFile.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 36\n      }, this), \"File type: \", selectedFile.type, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 36\n      }, this), \"Size: \", selectedFile.size / 1000, \" KB\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Select a file to show details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"uiButton\",\n      type: \"submit\",\n      value: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ImportDataForm, \"qAWFuCLk3XCU5zTGTW0sbeLVZ9E=\");\n\n_c = ImportDataForm;\nexport default ImportDataForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImportDataForm\");","map":{"version":3,"names":["React","useState","ImportDataForm","setToggle","updateSrc","setFileName","setProj","selectedFile","setSelectedFile","isSelected","setIsSelected","handleChange","e","target","files","preventDefault","handleSubmit","alert","fileReader","FileReader","readAsText","onload","newSrc","JSON","parse","result","name","replace","onerror","console","log","error","handleClose","type","size"],"sources":["C:/Users/Sumac/Documents/GitHub/chronovis-paintbox/src/components/ImportDataForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\n/*\r\n  For saving and downloading JSON data onto computer.\r\n*/\r\n\r\nfunction ImportDataForm({setToggle, updateSrc, setFileName, setProj}) {\r\n  const [selectedFile, setSelectedFile] = useState();\r\n\tconst [isSelected, setIsSelected] = useState(false);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetSelectedFile(e.target.files[0]);\r\n\t\tsetIsSelected(true);\r\n    e.preventDefault();\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!selectedFile) {\r\n      alert(\"Please select a file!\");\r\n      return;\r\n    }\r\n    let fileReader = new FileReader();\r\n    fileReader.readAsText(selectedFile);\r\n    fileReader.onload = () => {\r\n      const newSrc = JSON.parse(fileReader.result);\r\n      //add different cases for JSON and img\r\n      setFileName(selectedFile.name.replace(\".json\", \"\")); //chop off .json extension from name\r\n      // console.log(newSrc);\r\n      updateSrc(newSrc, \"import\")\r\n      // setSrc(newSrc);\r\n      // setScales(newSrc.scales);\r\n      // setActiveScale([Object.keys(newSrc.scales.x)[0],Object.keys(newSrc.scales.y)[0]]);\r\n      // setActiveData(0);\r\n      // setData(newSrc.instants[activeData]);\r\n      // setZones(newSrc.zones);\r\n    }\r\n    fileReader.onerror = () => {\r\n      console.log(fileReader.error);\r\n    }\r\n    setProj(true);\r\n    setToggle(null);\r\n\r\n\t};\r\n\r\n  const handleClose = (e) => {\r\n    setToggle(null);\r\n    e.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className=\"ui absolute center\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <button className=\"right uiButton closeButton\" onClick={handleClose}>x</button><br/>\r\n      <input type=\"file\" name=\"data\" onChange={handleChange} /><br/>\r\n\t\t\t{isSelected ? (\r\n\t\t\t\t<p>\r\n\t\t\t\t\tFile name: {selectedFile.name}<br/>\r\n\t\t\t\t\tFile type: {selectedFile.type}<br/>\r\n\t\t\t\t\tSize: {selectedFile.size/1000} KB\r\n\t\t\t\t</p>\r\n\t\t\t) : (\r\n\t\t\t\t<p>Select a file to show details</p>\r\n\t\t\t)}\r\n\t\t\t<input className=\"uiButton\" type=\"submit\" value=\"Upload\"/>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ImportDataForm;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA;AACA;AACA;;;;AAEA,SAASC,cAAT,OAAsE;EAAA;;EAAA,IAA9C;IAACC,SAAD;IAAYC,SAAZ;IAAuBC,WAAvB;IAAoCC;EAApC,CAA8C;EACpE,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,EAAhD;EACD,MAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,KAAD,CAA5C;;EAEA,MAAMU,YAAY,GAAIC,CAAD,IAAO;IAC3BJ,eAAe,CAACI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf;IACAJ,aAAa,CAAC,IAAD,CAAb;IACEE,CAAC,CAACG,cAAF;EACF,CAJD;;EAMA,MAAMC,YAAY,GAAIJ,CAAD,IAAO;IACzBA,CAAC,CAACG,cAAF;;IAEA,IAAI,CAACR,YAAL,EAAmB;MACjBU,KAAK,CAAC,uBAAD,CAAL;MACA;IACD;;IACD,IAAIC,UAAU,GAAG,IAAIC,UAAJ,EAAjB;IACAD,UAAU,CAACE,UAAX,CAAsBb,YAAtB;;IACAW,UAAU,CAACG,MAAX,GAAoB,MAAM;MACxB,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWN,UAAU,CAACO,MAAtB,CAAf,CADwB,CAExB;;MACApB,WAAW,CAACE,YAAY,CAACmB,IAAb,CAAkBC,OAAlB,CAA0B,OAA1B,EAAmC,EAAnC,CAAD,CAAX,CAHwB,CAG6B;MACrD;;MACAvB,SAAS,CAACkB,MAAD,EAAS,QAAT,CAAT,CALwB,CAMxB;MACA;MACA;MACA;MACA;MACA;IACD,CAZD;;IAaAJ,UAAU,CAACU,OAAX,GAAqB,MAAM;MACzBC,OAAO,CAACC,GAAR,CAAYZ,UAAU,CAACa,KAAvB;IACD,CAFD;;IAGAzB,OAAO,CAAC,IAAD,CAAP;IACAH,SAAS,CAAC,IAAD,CAAT;EAEF,CA5BD;;EA8BC,MAAM6B,WAAW,GAAIpB,CAAD,IAAO;IACzBT,SAAS,CAAC,IAAD,CAAT;IACAS,CAAC,CAACG,cAAF;EACD,CAHD;;EAKA,oBACE;IACE,SAAS,EAAC,oBADZ;IAEE,QAAQ,EAAEC,YAFZ;IAAA,wBAIE;MAAQ,SAAS,EAAC,4BAAlB;MAA+C,OAAO,EAAEgB,WAAxD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAIiF;MAAA;MAAA;MAAA;IAAA,QAJjF,eAKE;MAAO,IAAI,EAAC,MAAZ;MAAmB,IAAI,EAAC,MAAxB;MAA+B,QAAQ,EAAErB;IAAzC;MAAA;MAAA;MAAA;IAAA,QALF,eAK2D;MAAA;MAAA;MAAA;IAAA,QAL3D,EAMAF,UAAU,gBACV;MAAA,0BACaF,YAAY,CAACmB,IAD1B,eAC+B;QAAA;QAAA;QAAA;MAAA,QAD/B,iBAEanB,YAAY,CAAC0B,IAF1B,eAE+B;QAAA;QAAA;QAAA;MAAA,QAF/B,YAGQ1B,YAAY,CAAC2B,IAAb,GAAkB,IAH1B;IAAA;MAAA;MAAA;MAAA;IAAA,QADU,gBAOV;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAbA,eAeD;MAAO,SAAS,EAAC,UAAjB;MAA4B,IAAI,EAAC,QAAjC;MAA0C,KAAK,EAAC;IAAhD;MAAA;MAAA;MAAA;IAAA,QAfC;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD;;GAhEQhC,c;;KAAAA,c;AAkET,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}