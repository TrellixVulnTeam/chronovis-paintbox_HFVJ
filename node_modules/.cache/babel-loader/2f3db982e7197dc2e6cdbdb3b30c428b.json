{"ast":null,"code":"/*\r\n  - delete an individual instant\r\n*/\nfunction deleteInterval(target, data, updateSrc) {\n  const newData = { ...data\n  };\n  const srcKey = target.source[0];\n  const targetKey = target.target[0];\n  const dataValues = Object.entries(newData).map(_ref => {\n    let [k, v] = _ref;\n    return v;\n  }); //comb thru data and delete all references to deleted instant\n\n  dataValues.forEach(v => {\n    if (!v.target) {\n      return;\n    } else if (!v.target.includes(srcKey) && !v.target.includes(targetKey)) {\n      return;\n    } else {\n      //if v.target includes key\n      if (v.target.length > 1) {\n        //if multiple, delete only key\n        v.target = v.target.filter(x => x !== srcKey && x !== targetKey);\n      } else {\n        //if key is the only target, set to null\n        v.target = null;\n      }\n    }\n  });\n  delete newData[srcKey];\n  delete newData[targetKey];\n  updateSrc(newData);\n}\n\n;\nexport default deleteInterval;","map":{"version":3,"names":["deleteInterval","target","data","updateSrc","newData","srcKey","source","targetKey","dataValues","Object","entries","map","k","v","forEach","includes","length","filter","x"],"sources":["C:/Users/Sumac/Documents/GitHub/chronovis-paintbox/src/components/deleteInterval.js"],"sourcesContent":["/*\r\n  - delete an individual instant\r\n*/\r\n\r\nfunction deleteInterval(target, data, updateSrc) {\r\n  const newData = {...data};\r\n  const srcKey = target.source[0];\r\n  const targetKey = target.target[0];\r\n  const dataValues = Object.entries(newData).map(([k,v]) => v);\r\n\r\n  //comb thru data and delete all references to deleted instant\r\n  dataValues.forEach(v => {\r\n    if (!v.target) {\r\n      return;\r\n    } else if (!v.target.includes(srcKey) && !v.target.includes(targetKey)) {\r\n      return;\r\n    } else { //if v.target includes key\r\n      if (v.target.length > 1) { //if multiple, delete only key\r\n        v.target = v.target.filter((x) => (x !== srcKey) && (x !== targetKey));\r\n      } else { //if key is the only target, set to null\r\n        v.target = null;\r\n      }\r\n    }\r\n  });\r\n\r\n  delete newData[srcKey];\r\n  delete newData[targetKey];\r\n  updateSrc(newData);\r\n};\r\n\r\nexport default deleteInterval;\r\n"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,IAAhC,EAAsCC,SAAtC,EAAiD;EAC/C,MAAMC,OAAO,GAAG,EAAC,GAAGF;EAAJ,CAAhB;EACA,MAAMG,MAAM,GAAGJ,MAAM,CAACK,MAAP,CAAc,CAAd,CAAf;EACA,MAAMC,SAAS,GAAGN,MAAM,CAACA,MAAP,CAAc,CAAd,CAAlB;EACA,MAAMO,UAAU,GAAGC,MAAM,CAACC,OAAP,CAAeN,OAAf,EAAwBO,GAAxB,CAA4B;IAAA,IAAC,CAACC,CAAD,EAAGC,CAAH,CAAD;IAAA,OAAWA,CAAX;EAAA,CAA5B,CAAnB,CAJ+C,CAM/C;;EACAL,UAAU,CAACM,OAAX,CAAmBD,CAAC,IAAI;IACtB,IAAI,CAACA,CAAC,CAACZ,MAAP,EAAe;MACb;IACD,CAFD,MAEO,IAAI,CAACY,CAAC,CAACZ,MAAF,CAASc,QAAT,CAAkBV,MAAlB,CAAD,IAA8B,CAACQ,CAAC,CAACZ,MAAF,CAASc,QAAT,CAAkBR,SAAlB,CAAnC,EAAiE;MACtE;IACD,CAFM,MAEA;MAAE;MACP,IAAIM,CAAC,CAACZ,MAAF,CAASe,MAAT,GAAkB,CAAtB,EAAyB;QAAE;QACzBH,CAAC,CAACZ,MAAF,GAAWY,CAAC,CAACZ,MAAF,CAASgB,MAAT,CAAiBC,CAAD,IAAQA,CAAC,KAAKb,MAAP,IAAmBa,CAAC,KAAKX,SAAhD,CAAX;MACD,CAFD,MAEO;QAAE;QACPM,CAAC,CAACZ,MAAF,GAAW,IAAX;MACD;IACF;EACF,CAZD;EAcA,OAAOG,OAAO,CAACC,MAAD,CAAd;EACA,OAAOD,OAAO,CAACG,SAAD,CAAd;EACAJ,SAAS,CAACC,OAAD,CAAT;AACD;;AAAA;AAED,eAAeJ,cAAf"},"metadata":{},"sourceType":"module"}