{"ast":null,"code":"import _toConsumableArray from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _objectSpread from\"/Users/skye/Desktop/Portfolio/chronovis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from'react';import'./stylesheets/index.scss';/// Component Imports ///\nimport Graphic from\"./components/Graphic\";import Image from\"./components/Image\";import NewInstantForm from\"./components/NewInstantForm\";import NewIntervalForm from\"./components/NewIntervalForm\";import NewZoneForm from\"./components/NewZoneForm\";import NewScaleForm from\"./components/NewScaleForm\";import EditScaleForm from\"./components/EditScaleForm\";import InfoBox from\"./components/InfoBox\";import ExportDataForm from\"./components/ExportDataForm\";import ImportDataForm from\"./components/ImportDataForm\";import NavBar from\"./components/NavBar\";import Layers from\"./components/Layers\";import Scrubber from\"./components/Scrubber\";import Legend from\"./components/Legend\";import Certainty from\"./components/Certainty\";import Importance from\"./components/Importance\";import Connection from\"./components/Connection\";import WelcomeMessage from\"./components/WelcomeMessage\";import generateIntervals from\"./components/generateIntervals\";import EmptyProj from\"./components/EmptyProj\";import DataLibrary from\"./components/DataLibrary\";/// Data Imports ///\nimport Data from\"./data.json\";import NullData from\"./NullData.json\";import LifeImportanceData from\"./life_by_importance.json\";import TagVisData from\"./tagVis.json\";import WaitingForBusData from\"./waiting_for_bus.json\";//for installation\n// import Hands from './components/Hands';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function translateData(_ref){var data=_ref.data,nullData=_ref.nullData;var newData=_objectSpread({},nullData);var newInst=newData.instants[0];var scaleName=\"calendarDate\";var xValues=[];var yValues=[];var segments=[];// var key = 0;\nvar segmentMin=null;//TODO: automated scale generation\nvar _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var datum=_step.value;newInst[\"\".concat(datum.id)]={\"x\":datum.calendarDate,\"y\":datum.cy,\"scale\":[datum.calendarDate<0?\"early\":scaleName,\"Order in Text\"],// \"target\": [datum.targets[datum.targets.length-1]], //???\n\"text\":datum.innerText// ...(e.target.color && {\"color\": e.target.color.value}), //if color is specified, create color entry in data\n// ...(e.target.radius && {\"radius\": e.target.radius.value}),\n// ...(e.target.opacity && {\"opacity\": e.target.opacity.value})\n};xValues.push(datum.calendarDate);yValues.push(datum.cy);// key++;\n}}catch(err){_iterator.e(err);}finally{_iterator.f();}xValues.sort(function(a,b){return a-b;});//smallest to largest\nyValues.sort(function(a,b){return a-b;});//smallest to largest\n// //TODO: automated scale generation\n// xValues.forEach((val, i) => {\n//   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) {\n//     segments.push({\n//       \"min\": segmentMin,\n//       \"max\":xValues[i]\n//     })\n//     segmentMin = xValues[i+1];\n//   } else if ((segments.length) && (i===xValues.length-1)){ //if there are segments and this is the last value\n//     segments.push({\n//       \"min\": segmentMin,\n//       \"max\": null\n//     })\n//   };\n// });\n// for (let i; i=0; i++) {\n//   console.log(xValues[i]+Math.abs(xValues[i])<xValues[i+1]);\n//   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) { //if a value is less than 1/2 of the next value, create a segment\n//     // segments.push({\n//     //   \"min\": segmentMin,\n//     //   \"max\":xValues[i]\n//     // })\n//     // segmentMin = xValues[i+1];\n//   }\n// }\nnewData.scales.x[\"early\"]={\"min\":xValues[0]-10,\"max\":xValues[0]+1000,\"units\":\"Years\",\"yPos\":1,\"hideLabel\":true,\"segments\":[{max:xValues[0]}]//todo\n};newData.scales.x[\"\".concat(scaleName)]={\"min\":xValues[2]-90,\"max\":xValues[xValues.length-1],\"units\":\"Years\",\"yPos\":1,\"segments\":[{min:xValues[2]}]//todo\n};newData.scales.y[\"Order in Text\"]={\"min\":yValues[0],\"max\":yValues[xValues.length-1],\"units\":\"paragraph\"};// console.log(minX, maxX);\n// console.log(newData.scales);\nreturn newData;}// function scalesList(scales) {\n//   Object.keys(scales).map((key, i) => {\n//     return <option value={key} key={i}>{key}</option>\n//   });\n// }\nfunction App(){var projects={\"My Life by Importance\":{description:\"A temporal model of events in my life organized by importance, as featured in the video tutorial.\",data:LifeImportanceData},\"The Anthropocene Signal Amidst the Noise\":{description:\"AKA ChronoVis: TagVis, this data was imported and formatted from the UCLAB Anthropocene Curriculum Project. Special thanks to Francesca Morini and Marian DÃ¶rk.\",data:TagVisData},\"Waiting for the bus\":{description:\"\\\"I woke up at 7:30 am in someone else's bed today and it took me half an hour to get up. Thankfully, I won't be missing the 8:15AM bus, I thought. I tried to remember what happened last night but all I could recall was leaving the house at 9PM. Anyway, when I got to the bus stop 2 minutes before it was set to arrive, I waited and waited but it never showed up.\\\"\",data:WaitingForBusData}};var scaleData={\"imgs\":[],\"instants\":[[]],\"zones\":[],\"scales\":{\"x\":{\"Egyptian Dynasties\":{\"min\":-3100,\"max\":-30,\"units\":\"Years BCE\",\"yPos\":1,\"tickValues\":[],\"segments\":[// {\"max\": -2686, \"label\": \"Early Dynastic\"},\n// {\"min\": -2686, \"max\": -2181, \"label\": \"Old Kingdom\"},\n// {\"min\": -2181, \"max\": -2040, \"label\": \"First Intermediate Period\"},\n// {\"min\": -2040, \"max\": -1649, \"label\": \"Middle Kingdom\"},\n// {\"min\": -1649, \"max\": -1550, \"label\": \"Second Intermediate Period\"},\n// {\"min\": -1550, \"max\": -1077, \"label\": \"New Kingdom\"},\n// {\"min\": -1077, \"max\": -656, \"label\": \"Third Intermediate Period\"},\n// {\"min\": -656, \"max\": -332, \"label\": \"Late Period\"},\n// {\"min\": -332, \"label\": \"Graeco-Roman\"}\n]}},\"y\":{\"Place in Text\":{\"min\":3,\"max\":11,\"units\":\"paragraph\"}}}};//for installation\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),enabled=_useState2[0],setEnabled=_useState2[1];//user defined\nvar radius=4;//for entire project\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),proj=_useState4[0],setProj=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),fileName=_useState6[0],setFileName=_useState6[1];//for the entire ChronoJSON\n// console.log(translateData({data:TagVisData,nullData:NullData}))\n// console.log(TagVisData)\nvar _useState7=useState(NullData),_useState8=_slicedToArray(_useState7,2),src=_useState8[0],setSrc=_useState8[1];//for ChronoJSON history. for undo and redo\nvar _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),history=_useState10[0],setHistory=_useState10[1];//make fixed length array\n//--- copies of the source data. altering visual views does not necessarily change src data---//\n//for toggling the active data as used by scrubber\nvar _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),activeData=_useState12[0],setActiveData=_useState12[1];//for toggling the active layer\nvar _useState13=useState(),_useState14=_slicedToArray(_useState13,2),activeLayer=_useState14[0],setActiveLayer=_useState14[1];//for active tool modes\nvar _useState15=useState(),_useState16=_slicedToArray(_useState15,2),activeTool=_useState16[0],setActiveTool=_useState16[1];//initialize datapoints\nvar _useState17=useState(src.instants[activeData]),_useState18=_slicedToArray(_useState17,2),data=_useState18[0],setData=_useState18[1];//links are initialized in Graphic.js\n// const [links, setLinks] = useState(generateLinks(src.instants[activeData]))\n//initialize zones\nvar _useState19=useState(src.zones),_useState20=_slicedToArray(_useState19,2),zones=_useState20[0],setZones=_useState20[1];//initialize scales\nvar _useState21=useState(src.scales),_useState22=_slicedToArray(_useState21,2),scales=_useState22[0],setScales=_useState22[1];//toggles datapoint IDs vs labels\nvar _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),showLabel=_useState24[0],setShowLabel=_useState24[1];//for toggling the active scale\nvar _useState25=useState([Object.keys(scales.x)[0],Object.keys(scales.y)[0]]),_useState26=_slicedToArray(_useState25,2),activeScale=_useState26[0],setActiveScale=_useState26[1];//---UI stuff---//\n//UI window toggles\nvar _useState27=useState(),_useState28=_slicedToArray(_useState27,2),toggle=_useState28[0],setToggle=_useState28[1];//Navbar dropdown toggles\nvar _useState29=useState(),_useState30=_slicedToArray(_useState29,2),nav=_useState30[0],setNav=_useState30[1];//UI info boxes for points, intervals, etc.\nvar _useState31=useState(),_useState32=_slicedToArray(_useState31,2),info=_useState32[0],setInfo=_useState32[1];//Inflection info\nvar _useState33=useState(),_useState34=_slicedToArray(_useState33,2),inflectTarget=_useState34[0],setInflectTarget=_useState34[1];//Syntactic inflections order\nvar _useState35=useState([null,null,null]),_useState36=_slicedToArray(_useState35,2),syntacticOrder=_useState36[0],setSyntacticOrder=_useState36[1];//[target1, target2, #]. # dictates order, switches b/w 0 and 1\n//--- functions ---//\nvar updateSrc=function updateSrc(newData,key){setHistory([].concat(_toConsumableArray(history),[{src:src,activeScale:activeScale,activeData:activeData,activeLayer:activeLayer}]));//history.length-1 is last src before this\nif(key===\"import\"){//copy & pasted from ImportDataForm\nsetScales(newData.scales);setActiveScale([Object.keys(newData.scales.x)[0],Object.keys(newData.scales.y)[0]]);setActiveData(0);setData(newData.instants[activeData]);setZones(newData.zones);setSrc(newData);return;}var newSrc=src;//why is console.log(data) before & after the same, but new data point still shows up\n//have a function where, if incoming data greater than scale max or less than scale min, set that to scale max/min\nif(key===\"zones\"){setZones(newData);newSrc.zones=zones;}else if(key===\"scales\"){setScales(newData);newSrc.scales=newData;}else{setData(newData);newSrc.instants[activeData]=data;}console.log(history);setSrc(newSrc);setToggle(null);};var undo=function undo(){var newHistory=_toConsumableArray(history);var last=newHistory.pop();if(newHistory.length&&last!==undefined){console.log(newHistory.pop());setHistory([newHistory]);setActiveScale(last.activeScale);setActiveData(last.activeData);setActiveLayer(last.activeLayer);setSrc(last.src);setScales(last.src.scales);setData(last.src.instants[activeData]);setZones(last.src.zones);}else{//turn off undo button\n}};// console.log(info);\n/*\n    TODO:\n    - for piecewise timeline, make function that generates different graphics\n  */ //\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[info&&/*#__PURE__*/_jsx(InfoBox,{info:info,setInfo:setInfo,history:history,setHistory:setHistory,data:data,setData:setData,src:src,setSrc:setSrc,updateSrc:updateSrc,zones:zones,radius:radius}),/*#__PURE__*/_jsx(NavBar,{toggle:toggle,setToggle:setToggle,nav:nav,setNav:setNav,data:data,showLabel:showLabel,setShowLabel:setShowLabel,hasScales:Object.keys(scales.y).length,fileName:fileName,setFileName:setFileName,proj:proj,undo:undo}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return toggle?setNav(null):null;},children:[toggle===\"dataLibrary\"&&/*#__PURE__*/_jsx(DataLibrary,{projects:projects,updateSrc:updateSrc,setToggle:setToggle}),toggle===\"scrubber\"&&/*#__PURE__*/_jsx(Scrubber,{activeData:activeData,setActiveData:setActiveData,src:src,setData:setData}),toggle===\"NewInstantForm\"&&/*#__PURE__*/_jsx(NewInstantForm,{data:data,setData:setData,target:inflectTarget,setToggle:setToggle,scales:src.scales,activeScale:activeScale,activeData:activeData,history:history,setHistory:setHistory,updateSrc:updateSrc}),toggle===\"editScale\"&&/*#__PURE__*/_jsx(EditScaleForm,{scales:scales,updateSrc:updateSrc,setToggle:setToggle,activeScale:activeScale,setActiveScale:setActiveScale}),toggle===\"addZone\"&&/*#__PURE__*/_jsx(NewZoneForm,{zones:zones,updateSrc:updateSrc,setToggle:setToggle,scales:scales,activeScale:activeScale}),toggle===\"addInterval\"&&/*#__PURE__*/_jsx(NewIntervalForm,{data:data,updateSrc:updateSrc,setToggle:setToggle,scales:scales,activeScale:activeScale,history:history,setHistory:setHistory}),toggle===\"addScale\"&&/*#__PURE__*/_jsx(NewScaleForm,{src:src,updateSrc:updateSrc,setToggle:setToggle,setActiveScale:setActiveScale}),toggle===\"save\"&&/*#__PURE__*/_jsx(ExportDataForm,{src:src,setSrc:setSrc,data:data,zones:zones,scales:scales,activeData:activeData,setToggle:setToggle,fileName:fileName}),toggle===\"legend\"&&/*#__PURE__*/_jsx(Legend,{}),toggle===\"layers\"&&/*#__PURE__*/_jsx(Layers,{activeLayer:activeLayer,setActiveLayer:setActiveLayer,data:data}),toggle===\"import\"&&/*#__PURE__*/_jsx(ImportDataForm,{updateSrc:updateSrc,setToggle:setToggle,setProj:setProj,setFileName:setFileName}),toggle===\"certainty\"&&/*#__PURE__*/_jsx(Certainty,{target:inflectTarget,setToggle:setToggle,data:data,updateSrc:updateSrc,zones:zones,setZones:setZones}),toggle===\"importance\"&&/*#__PURE__*/_jsx(Importance,{target:inflectTarget,setToggle:setToggle,data:data,setData:setData,zones:zones,setZones:setZones,radius:radius,setProj:setProj}),toggle===\"connection\"&&/*#__PURE__*/_jsx(Connection,{target:syntacticOrder,setToggle:setToggle,data:data,setData:setData,zones:zones,setZones:setZones}),proj?/*#__PURE__*/_jsxs(\"div\",{id:\"main\",className:\"container fullHeight\",children:[Object.keys(scales.x).length?/*#__PURE__*/_jsx(Graphic,{data:data,setData:setData,updateSrc:updateSrc,zones:zones,setZones:setZones,radius:radius,info:info,setInfo:setInfo,setInflectTarget:setInflectTarget,showLabel:showLabel,activeLayer:activeLayer,toggle:toggle,setToggle:setToggle,scales:scales,setScales:setScales,syntacticOrder:syntacticOrder,setSyntacticOrder:setSyntacticOrder,activeScale:activeScale}):/*#__PURE__*/_jsx(EmptyProj,{toggle:toggle,setToggle:setToggle}),src.imgs.length>0&&/*#__PURE__*/_jsx(Image,{urls:src.imgs})]}):/*#__PURE__*/_jsx(WelcomeMessage,{setProj:setProj,setFileName:setFileName,toggle:toggle,setToggle:setToggle})]})]});}export default App;","map":{"version":3,"sources":["/Users/skye/Desktop/Portfolio/chronovis/src/App.js"],"names":["React","useState","Graphic","Image","NewInstantForm","NewIntervalForm","NewZoneForm","NewScaleForm","EditScaleForm","InfoBox","ExportDataForm","ImportDataForm","NavBar","Layers","Scrubber","Legend","Certainty","Importance","Connection","WelcomeMessage","generateIntervals","EmptyProj","DataLibrary","Data","NullData","LifeImportanceData","TagVisData","WaitingForBusData","translateData","data","nullData","newData","newInst","instants","scaleName","xValues","yValues","segments","segmentMin","datum","id","calendarDate","cy","innerText","push","sort","a","b","scales","x","max","length","min","y","App","projects","description","scaleData","enabled","setEnabled","radius","proj","setProj","fileName","setFileName","src","setSrc","history","setHistory","activeData","setActiveData","activeLayer","setActiveLayer","activeTool","setActiveTool","setData","zones","setZones","setScales","showLabel","setShowLabel","Object","keys","activeScale","setActiveScale","toggle","setToggle","nav","setNav","info","setInfo","inflectTarget","setInflectTarget","syntacticOrder","setSyntacticOrder","updateSrc","key","newSrc","console","log","undo","newHistory","last","pop","undefined","e","imgs"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './stylesheets/index.scss';\n\n/// Component Imports ///\nimport Graphic from \"./components/Graphic\";\nimport Image from \"./components/Image\";\nimport NewInstantForm from \"./components/NewInstantForm\";\nimport NewIntervalForm from \"./components/NewIntervalForm\";\nimport NewZoneForm from \"./components/NewZoneForm\";\nimport NewScaleForm from \"./components/NewScaleForm\";\nimport EditScaleForm from \"./components/EditScaleForm\";\nimport InfoBox from \"./components/InfoBox\";\nimport ExportDataForm from \"./components/ExportDataForm\";\nimport ImportDataForm from \"./components/ImportDataForm\";\nimport NavBar from \"./components/NavBar\";\nimport Layers from \"./components/Layers\";\nimport Scrubber from \"./components/Scrubber\";\nimport Legend from \"./components/Legend\";\nimport Certainty from \"./components/Certainty\";\nimport Importance from \"./components/Importance\";\nimport Connection from \"./components/Connection\";\nimport WelcomeMessage from \"./components/WelcomeMessage\";\nimport generateIntervals from \"./components/generateIntervals\";\nimport EmptyProj from \"./components/EmptyProj\";\nimport DataLibrary from \"./components/DataLibrary\";\n\n/// Data Imports ///\nimport Data from \"./data.json\";\nimport NullData from \"./NullData.json\";\nimport LifeImportanceData from \"./life_by_importance.json\"\nimport TagVisData from \"./tagVis.json\";\nimport WaitingForBusData from \"./waiting_for_bus.json\"\n\n//for installation\n// import Hands from './components/Hands';\n\n\nfunction translateData({data, nullData}) {\n  const newData = {...nullData};\n  const newInst = newData.instants[0];\n  const scaleName = \"calendarDate\";\n  const xValues = [];\n  const yValues = [];\n  const segments = [];\n  // var key = 0;\n  var segmentMin = null;\n\n  //TODO: automated scale generation\n  for (const datum of data) {\n    newInst[`${datum.id}`] = {\n      \"x\": datum.calendarDate,\n      \"y\": datum.cy,\n      \"scale\": [(datum.calendarDate<0)?\"early\":scaleName, \"Order in Text\"],\n      // \"target\": [datum.targets[datum.targets.length-1]], //???\n      \"text\": datum.innerText,\n      // ...(e.target.color && {\"color\": e.target.color.value}), //if color is specified, create color entry in data\n      // ...(e.target.radius && {\"radius\": e.target.radius.value}),\n      // ...(e.target.opacity && {\"opacity\": e.target.opacity.value})\n    };\n    xValues.push(datum.calendarDate);\n    yValues.push(datum.cy)\n    // key++;\n  }\n\n  xValues.sort((a, b) => a-b); //smallest to largest\n  yValues.sort((a, b) => a-b); //smallest to largest\n\n\n  // //TODO: automated scale generation\n  // xValues.forEach((val, i) => {\n  //   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) {\n  //     segments.push({\n  //       \"min\": segmentMin,\n  //       \"max\":xValues[i]\n  //     })\n  //     segmentMin = xValues[i+1];\n  //   } else if ((segments.length) && (i===xValues.length-1)){ //if there are segments and this is the last value\n  //     segments.push({\n  //       \"min\": segmentMin,\n  //       \"max\": null\n  //     })\n  //   };\n  // });\n  // for (let i; i=0; i++) {\n  //   console.log(xValues[i]+Math.abs(xValues[i])<xValues[i+1]);\n  //   if (xValues[i]+Math.abs(xValues[i])<xValues[i+1]) { //if a value is less than 1/2 of the next value, create a segment\n  //     // segments.push({\n  //     //   \"min\": segmentMin,\n  //     //   \"max\":xValues[i]\n  //     // })\n  //     // segmentMin = xValues[i+1];\n  //   }\n  // }\n  newData.scales.x[\"early\"] = {\n    \"min\": xValues[0]-10,\n    \"max\": xValues[0]+1000,\n    \"units\": \"Years\",\n    \"yPos\": 1,\n    \"hideLabel\":true,\n    \"segments\": [{max: xValues[0]}] //todo\n  }\n\n  newData.scales.x[`${scaleName}`] = {\n    \"min\": xValues[2]-90,\n    \"max\": xValues[xValues.length-1],\n    \"units\": \"Years\",\n    \"yPos\": 1,\n    \"segments\": [{min:xValues[2]}] //todo\n  }\n\n  newData.scales.y[\"Order in Text\"] = {\n    \"min\": yValues[0],\n    \"max\": yValues[xValues.length-1],\n    \"units\": \"paragraph\"\n  }\n\n\n  // console.log(minX, maxX);\n  // console.log(newData.scales);\n  return newData;\n}\n\n\n// function scalesList(scales) {\n//   Object.keys(scales).map((key, i) => {\n//     return <option value={key} key={i}>{key}</option>\n//   });\n// }\n\nfunction App() {\n\n  const projects = {\n    \"My Life by Importance\": {\n      description:\"A temporal model of events in my life organized by importance, as featured in the video tutorial.\",\n      data: LifeImportanceData\n    },\n    \"The Anthropocene Signal Amidst the Noise\": {\n      description:\"AKA ChronoVis: TagVis, this data was imported and formatted from the UCLAB Anthropocene Curriculum Project. Special thanks to Francesca Morini and Marian DÃ¶rk.\",\n      data: TagVisData\n    },\n    \"Waiting for the bus\": {\n      description:`\"I woke up at 7:30 am in someone else's bed today and it took me half an hour to get up. Thankfully, I won't be missing the 8:15AM bus, I thought. I tried to remember what happened last night but all I could recall was leaving the house at 9PM. Anyway, when I got to the bus stop 2 minutes before it was set to arrive, I waited and waited but it never showed up.\"`,\n      data: WaitingForBusData\n    },\n  }\n\n  const scaleData = {\n    \"imgs\": [],\n    \"instants\":\n    [\n      []\n    ],\n    \"zones\":\n    [],\n    \"scales\":\n    {\n      \"x\":{\n        \"Egyptian Dynasties\": {\n          \"min\": -3100,\n          \"max\": -30,\n          \"units\": \"Years BCE\",\n          \"yPos\": 1,\n          \"tickValues\": [],\n          \"segments\": [\n            // {\"max\": -2686, \"label\": \"Early Dynastic\"},\n            // {\"min\": -2686, \"max\": -2181, \"label\": \"Old Kingdom\"},\n            // {\"min\": -2181, \"max\": -2040, \"label\": \"First Intermediate Period\"},\n            // {\"min\": -2040, \"max\": -1649, \"label\": \"Middle Kingdom\"},\n            // {\"min\": -1649, \"max\": -1550, \"label\": \"Second Intermediate Period\"},\n            // {\"min\": -1550, \"max\": -1077, \"label\": \"New Kingdom\"},\n            // {\"min\": -1077, \"max\": -656, \"label\": \"Third Intermediate Period\"},\n            // {\"min\": -656, \"max\": -332, \"label\": \"Late Period\"},\n            // {\"min\": -332, \"label\": \"Graeco-Roman\"}\n          ]\n        }\n      },\n      \"y\":{\n        \"Place in Text\": {\n          \"min\": 3,\n          \"max\": 11,\n          \"units\": \"paragraph\"\n        }\n      }\n    }\n  };\n\n  //for installation\n  const [enabled, setEnabled] = useState(false);\n\n  //user defined\n  const radius = 4;\n\n  //for entire project\n  const [proj, setProj] = useState(false);\n  const [fileName, setFileName] = useState(\"\");\n\n  //for the entire ChronoJSON\n  // console.log(translateData({data:TagVisData,nullData:NullData}))\n  // console.log(TagVisData)\n  const [src, setSrc] = useState(NullData);\n\n  //for ChronoJSON history. for undo and redo\n  const [history, setHistory] = useState([]) //make fixed length array\n\n  //--- copies of the source data. altering visual views does not necessarily change src data---//\n  //for toggling the active data as used by scrubber\n  const [activeData, setActiveData] = useState(0);\n  //for toggling the active layer\n  const [activeLayer, setActiveLayer] = useState();\n  //for active tool modes\n  const [activeTool, setActiveTool] = useState();\n\n  //initialize datapoints\n  const [data, setData] = useState(src.instants[activeData]);\n  //links are initialized in Graphic.js\n  // const [links, setLinks] = useState(generateLinks(src.instants[activeData]))\n  //initialize zones\n  const [zones, setZones] = useState(src.zones);\n  //initialize scales\n  const [scales, setScales] = useState(src.scales);\n\n  //toggles datapoint IDs vs labels\n  const [showLabel, setShowLabel] = useState(true);\n\n  //for toggling the active scale\n  const [activeScale, setActiveScale] = useState([Object.keys(scales.x)[0],Object.keys(scales.y)[0]])\n\n  //---UI stuff---//\n  //UI window toggles\n  const [toggle, setToggle] = useState();\n  //Navbar dropdown toggles\n  const [nav, setNav] = useState();\n  //UI info boxes for points, intervals, etc.\n  const [info, setInfo] = useState();\n  //Inflection info\n  const [inflectTarget, setInflectTarget] = useState();\n  //Syntactic inflections order\n  const [syntacticOrder, setSyntacticOrder] = useState([null, null, null]); //[target1, target2, #]. # dictates order, switches b/w 0 and 1\n\n  //--- functions ---//\n  const updateSrc = (newData, key) => {\n    setHistory([...history, {src:src, activeScale: activeScale, activeData: activeData, activeLayer: activeLayer}]); //history.length-1 is last src before this\n\n    if (key===\"import\") {\n      //copy & pasted from ImportDataForm\n\n      setScales(newData.scales);\n      setActiveScale([Object.keys(newData.scales.x)[0],Object.keys(newData.scales.y)[0]]);\n      setActiveData(0);\n      setData(newData.instants[activeData]);\n      setZones(newData.zones);\n      setSrc(newData);\n      return;\n    }\n\n    const newSrc = src;\n    //why is console.log(data) before & after the same, but new data point still shows up\n    //have a function where, if incoming data greater than scale max or less than scale min, set that to scale max/min\n    if (key===\"zones\") {\n      setZones(newData);\n      newSrc.zones = zones;\n    } else if (key===\"scales\") {\n      setScales(newData);\n      newSrc.scales = newData;\n    } else {\n      setData(newData);\n      newSrc.instants[activeData] = data;\n    }\n    console.log(history);\n    setSrc(newSrc);\n    setToggle(null);\n  }\n\n const undo = () => {\n   const newHistory = [...history];\n   const last = newHistory.pop();\n   if (newHistory.length&&(last !== undefined)) {\n     console.log(newHistory.pop())\n     setHistory([newHistory]);\n     setActiveScale(last.activeScale);\n     setActiveData(last.activeData);\n     setActiveLayer(last.activeLayer);\n     setSrc(last.src);\n     setScales(last.src.scales);\n     setData(last.src.instants[activeData]);\n     setZones(last.src.zones);\n   } else {\n     //turn off undo button\n   }\n }\n\n\n  // console.log(info);\n  /*\n    TODO:\n    - for piecewise timeline, make function that generates different graphics\n  */\n//\n  return (\n    <>\n      {\n        // <>\n          // <Hands enabled={enabled} setEnabled={setEnabled}/>\n          // <div className=\"fullHeight\" onClick={e => console.log(e.clientX, e.clientY)} />\n        // </>\n      }\n\n      {info && <InfoBox\n        info={info}\n        setInfo={setInfo}\n        history={history} setHistory={setHistory}\n        data={data} setData={setData}\n        src={src} setSrc={setSrc}\n        updateSrc={updateSrc}\n        zones={zones}\n        radius={radius}\n      />}\n      <NavBar\n        toggle={toggle}\n        setToggle={setToggle}\n        nav={nav} setNav={setNav}\n        data={data} showLabel={showLabel}\n        setShowLabel={setShowLabel}\n        hasScales={Object.keys(scales.y).length}\n        fileName={fileName}\n        setFileName={setFileName}\n        proj={proj}\n        undo={undo}\n      />\n      <div onClick={(e) => (toggle)?setNav(null):null}>\n        {toggle === \"dataLibrary\" && <DataLibrary projects={projects} updateSrc={updateSrc} setToggle={setToggle}/>}\n        {toggle===\"scrubber\" && <Scrubber activeData={activeData} setActiveData={setActiveData} src={src} setData={setData}/>}\n        {toggle===\"NewInstantForm\" &&\n          <NewInstantForm\n            data={data}\n            setData={setData}\n            target={inflectTarget}\n            setToggle={setToggle}\n            scales={src.scales}\n            activeScale={activeScale}\n            activeData={activeData}\n            history={history} setHistory={setHistory}\n            updateSrc={updateSrc}\n          />\n        }\n        {toggle===\"editScale\" && <EditScaleForm scales={scales} updateSrc={updateSrc} setToggle={setToggle} activeScale={activeScale} setActiveScale={setActiveScale}/>}\n        {toggle===\"addZone\" && <NewZoneForm zones={zones} updateSrc={updateSrc} setToggle={setToggle} scales={scales} activeScale={activeScale}/>}\n        {toggle===\"addInterval\" && <NewIntervalForm data={data} updateSrc={updateSrc} setToggle={setToggle} scales={scales} activeScale={activeScale} history={history} setHistory={setHistory}/>}\n        {toggle===\"addScale\" && <NewScaleForm src={src} updateSrc={updateSrc} setToggle={setToggle} setActiveScale={setActiveScale}/>}\n        {toggle===\"save\" &&\n          <ExportDataForm\n            src={src}\n            setSrc={setSrc}\n            data={data}\n            zones={zones}\n            scales={scales}\n            activeData={activeData}\n            setToggle={setToggle}\n            fileName={fileName}\n          />\n        }\n        {toggle===\"legend\" && <Legend/>}\n        {toggle===\"layers\" && <Layers activeLayer={activeLayer} setActiveLayer={setActiveLayer} data={data}/>}\n        {toggle===\"import\" &&\n          <ImportDataForm\n            updateSrc={updateSrc}\n            setToggle={setToggle}\n            setProj={setProj}\n            setFileName={setFileName}\n          />\n        }\n        {toggle===\"certainty\" &&\n          <Certainty\n            target={inflectTarget}\n            setToggle={setToggle}\n            data={data}\n            updateSrc={updateSrc}\n            zones={zones}\n            setZones={setZones}\n          />\n        }\n        {toggle===\"importance\" &&\n          <Importance\n            target={inflectTarget}\n            setToggle={setToggle}\n            data={data}\n            setData={setData}\n            zones={zones}\n            setZones={setZones}\n            radius={radius}\n            setProj={setProj}\n          />\n        }\n        {toggle===\"connection\" &&\n          <Connection\n            target={syntacticOrder}\n            setToggle={setToggle}\n            data={data}\n            setData={setData}\n            zones={zones}\n            setZones={setZones}\n          />\n        }\n\n        {\n          proj ?\n          <div id=\"main\" className=\"container fullHeight\">\n            {Object.keys(scales.x).length ?\n              <Graphic\n                data={data}\n                setData={setData}\n                updateSrc={updateSrc}\n                zones={zones}\n                setZones={setZones}\n                radius={radius}\n                info={info}\n                setInfo={setInfo}\n                setInflectTarget={setInflectTarget}\n                showLabel={showLabel}\n                activeLayer={activeLayer}\n                toggle={toggle}\n                setToggle={setToggle}\n                scales={scales}\n                setScales={setScales}\n                syntacticOrder={syntacticOrder}\n                setSyntacticOrder={setSyntacticOrder}\n                activeScale={activeScale}\n              />\n              : <EmptyProj toggle={toggle} setToggle={setToggle}/>\n            }\n            {src.imgs.length>0 && <Image urls={src.imgs}/>}\n          </div> :\n          <WelcomeMessage setProj={setProj} setFileName={setFileName} toggle={toggle} setToggle={setToggle}/>\n        }\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}