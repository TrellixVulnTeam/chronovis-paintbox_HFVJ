(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,a){},147:function(e){e.exports=JSON.parse("{}")},148:function(e){e.exports=JSON.parse("{}")},149:function(e){e.exports=JSON.parse("{}")},153:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(35),l=a.n(r),s=a(7),i=a(2),o=a(6),u=a(3),j=(a(146),a(147),a(148),a(149),a(5)),b=a(36),d=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new b.a((function(e){e.forEach((function(e){r(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),c};var x=function(e){var t=[];return Object.entries(e).forEach((function(a){a[0];var n=a[1];n.target&&n.target.forEach((function(c){var r=[c,e[c]];r[1]&&t.push({source:a,target:r,text:n.intervalText,color:n.intervalColor?n.intervalColor:n.color?n.color:null,width:n.intervalWidth,opacity:n.intervalOpacity?n.intervalOpacity:null,dashed:n.intervalDashed})}))})),t},h=a(0);var O=function(e){var t=e.data,a=e.setData,c=e.updateSrc,r=e.activeLayer,l=e.zones,b=(e.setZones,e.radius),O=(e.info,e.setInfo),m=e.setInflectTarget,p=e.showLabel,f=e.toggle,y=e.setToggle,g=e.scales,v=(e.setScales,e.syntacticOrder),S=e.setSyntacticOrder,N=e.activeScale,w=Object.entries(t),C=Object.entries(l),k=t.length?isNaN(t[0].x):null,E=Object(n.useRef)(),T=Object(n.useRef)(),M=d(T),P=Object(n.useState)(),V=Object(i.a)(P,2),D=V[0],F=V[1],I={};Object(n.useEffect)((function(){if(M){var e,t=[],a=Object(o.a)(w);try{for(a.s();!(e=a.n()).done;){e.value;t.push(w.y)}}catch(n){a.e(n)}finally{a.f()}Object.entries(g.y).forEach((function(e){var a=Object(i.a)(e,2),n=a[0],c=a[1];I[n]={scale:Object(j.h)().domain([0,M.height]).range([c.min,c.max]),drag:Object(j.h)().domain([-M.height,M.height]).range([-(c.max-c.min),c.max-c.min]),ticks:Object(s.a)(new Set(t))}}))}}),[M,g,D]);var L=x(t);return Object(n.useEffect)((function(){var e=Object(j.j)(E.current);if(M){e.selectAll(".remove").remove();var n=Object(j.i)(["before","now","after"],[-1,0,1]).unknown(0),r=(Object(j.g)(w.map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1].x);return k?n(a):a}))),Object(j.f)(w.map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1].x);return k?n(a):a}))),w.map((function(e){return Object(i.a)(e,2)[1].y}))),l=g.y[N[1]].min,o=g.y[N[1]].max,d=o-l,x=function(e){return Object(j.h)().domain([0,M.width]).range([e.min,e.max])},h=Object.fromEntries(Object.entries(g.x).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return[a,{scale:Object(j.h)().domain([n.min,n.max]).range([0,M.width]),noBeginning:n.min-10,noEnd:n.max+10,hasSegments:!!n.segments.length,hideLabel:n.hideLabel,yPos:n.yPos,label:"".concat(a," (").concat(n.units,")"),tickValues:n.tickValues?n.tickValues:null,scaleInverse:Object(j.h)().domain([0,M.width]).range([n.min,n.max])}]})));D&&Object.entries(h).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=D.rescaleX(n.scale);c.domain()[0],c.domain()[1];h[a].scale=c}));var T=Object(j.h)().domain([l,o]).range([M.height,0]),P=Object(j.h)().domain([0,M.height]).range([l,o]),V=Object(j.h)().domain([M.height,-M.height]).range([-d,d]);C.length&&e.selectAll(".zones").data(C).join("rect").attr("class","zones").attr("x",(function(e){var t=Object(i.a)(e,2)[1];return h[t.scale[0]].scale(t.start)})).attr("y",(function(e){Object(i.a)(e,2)[1];return T(o)})).attr("width",(function(e){var t=Object(i.a)(e,2)[1];return h[t.scale[0]].scale(t.end)-h[t.scale[0]].scale(t.start)})).attr("height",(function(e){Object(i.a)(e,2)[1];return T(l)})).attr("opacity",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.opacity?a.opacity:.5})).attr("fill",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.color?a.color:"#999"})).attr("stroke","black").attr("stroke-width",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.importance?2*a.importance:0})).on("click",(function(e,t){"certainty"===f||"importance"===f?m(t):(O(null),O({position:[e.x,e.y],target:t,type:"zone"})),e.stopPropagation()})),function(){var e=[];return Object.keys(g.x).forEach((function(t,a){var n=g.x[t];n.segments.length&&n.segments.map((function(a){var c=a.min?a.min:n.min,r=a.max?a.max:n.max;e.push({scale:t,yPos:n.yPos,proportion:(r-c)/(n.max-n.min),segment:Object(j.h)().domain([c,r]).range([h[t].scale(c),h[t].scale(r)])})}))})),e}().forEach((function(t){var a=Object(j.a)(t.segment).ticks(null,"f").tickSize(-M.height);e.append("g").attr("class","remove").style("transform","translateY(".concat(M.height*t.yPos,"px)")).call(a).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.25)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",(function(e,a){return t.proportion<.25&&a%3||t.proportion<.33&&a%2?0:.5}))}))})),Object.entries(h).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(j.a)(c.scale).tickValues(c.scale.ticks().concat(g.x[n].min,g.x[n].max)).tickFormat(Object(j.d)("")).tickSize(-M.height);c.hasSegments||e.append("g").attr("class","remove").style("transform","translateY(".concat(M.height*c.yPos,"px)")).call(r).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.25)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",.5)})),c.hideUnits||e.append("text").text(c.label).attr("class","axisLabel smallTxt remove").attr("x",M.width/2).attr("y",M.height*(c.yPos+.07)).attr("text-anchor","middle").attr("opacity",.5)}));var I=Object(j.b)(T).tickValues([].concat(Object(s.a)(new Set(r)),[g.y[N[1]].min,g.y[N[1]].max])).tickFormat(Object(j.d)(""));e.append("g").attr("class","remove").call(I).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.5)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",.5)})),g.y[N[1]].hideLabels||e.append("text").text("".concat(N[1]," (").concat(g.y[N[1]].units,")")).attr("class","axisLabel smallTxt remove").attr("text-anchor","middle").attr("transform","translate(-30,".concat(M.height/2,")rotate(-90)")).attr("opacity",.5);var A=Object(j.c)().on("drag",(function(e){var n,c=(n=h[e.subject[1].scale[0]].scale,Object(j.h)().domain([-M.width,M.width]).range([-(n.domain()[1]-n.domain()[0]),n.domain()[1]-n.domain()[0]]))(e.dx),r=V(e.dy),l=Object(u.a)({},t);l[e.subject[0]].x+=c,l[e.subject[0]].y+=r,a(l)})).on("end",(function(e){console.log("end")}));if(Object.entries(t).length){var Z=Object(j.e)().source((function(e){return e.source[1]})).target((function(e){return e.target[1]})).x((function(e){return isNaN(e.x)?"noEnd"===e.x?h[e.scale[0]].noEnd:"noBeginning"===e.x?h[e.scale[0]].noBeginning:void 0:h[e.scale[0]].scale(e.x)})).y((function(e){return T(e.y)}));e.selectAll(".interval").data(L).join("path").raise().attr("class","interval pointer").attr("d",Z).attr("fill","none").attr("stroke",(function(e){return e.color?e.color:"black"})).attr("stroke-width",(function(e){return e.width?e.width:b})).attr("stroke-opacity",(function(e){return e.opacity?e.opacity:1})).attr("stroke-dasharray",(function(e){return e.dashed?e.dashed:null})).on("click",(function(e,t){if("connection"===f){var a=Object(s.a)(v);0===a[2]?(a[1]={x:x(g.x[N[0]])(e.layerX),y:P(e.layerY),scale:N},a[2]=1):(a[0]={x:x(g.x[N[0]])(e.layerX),y:P(e.layerY),scale:N},a[2]=0),S(a)}else"certainty"===f||"importance"===f?m(t):(O(null),O({position:[e.x,e.y],target:t,type:"interval"}));e.stopPropagation()})),e.selectAll(".instant").data(w).join("circle").raise().attr("class","instant pointer").attr("r",(function(e){var t=Object(i.a)(e,2)[1];return t.radius?t.radius:b})).attr("fill",(function(e){var t=Object(i.a)(e,2)[1];return t.color?t.color:"black"})).attr("opacity",(function(e){var t=Object(i.a)(e,2)[1];return t.opacity?t.opacity:1})).attr("cx",(function(e){var t=Object(i.a)(e,2)[1];return isNaN(t.x)?"noBeginning"===t.x?h[t.scale[0]].noBeginning:"noEnd"===t.x?h[t.scale[0]].noEnd:void 0:h[t.scale[0]].scale(t.x)})).attr("cy",(function(e){var t=Object(i.a)(e,2)[1];return T(t.y)})).call(A).on("click",(function(e,n){switch(f){case"cancelled":var r=Object(u.a)({},t);r[n[0]].cancelled=!0,c(r);break;case"connection":var l=Object(s.a)(v);0===l[2]?(l[1]=n,l[2]=1):(l[0]=n,l[2]=0),S(l);break;case"foreshadowing":if(n.target)console.log("forbidden");else{var i=Object(s.a)(t);i.find((function(e){return e.id===n.id})).foreshadowing=!0,a(i)}break;case"certainty":case"importance":m(n);break;default:O(null),O({position:[e.x,e.y],target:n})}e.stopPropagation()}));var q={draw:function(e,t){var a=Math.sqrt(t)/2;e.moveTo(a,0),e.lineTo(2*a,a),e.lineTo(a,2*a),e.lineTo(0,a),e.lineTo(-a,2*a),e.lineTo(2*-a,a),e.lineTo(-a,0),e.lineTo(2*-a,-a),e.lineTo(-a,2*-a),e.lineTo(0,-a),e.lineTo(a,2*-a),e.lineTo(2*a,-a),e.closePath()}};e.selectAll(".cancelled").data(w.filter((function(e){return Object(i.a)(e,2)[1].cancelled}))).join("path").raise().attr("class","cancelled pointer").attr("d",Object(j.k)(q,b*b*5)).attr("fill",(function(e){var t=Object(i.a)(e,2)[1];return t.color?t.color:"black"})).attr("transform",(function(e){var t=Object(i.a)(e,2)[1];return"translate(".concat(h[t.scale[0]].scale(t.x),", ").concat(T(t.y),")")})).on("click",(function(e,a){if("cancelled"===f){var n=Object(u.a)({},t);n[a[0]].cancelled=!1,c(n)}else O({position:[e.x,e.y],target:a});e.stopPropagation()})),e.selectAll(".label").data(w.filter((function(e){var t=Object(i.a)(e,2)[1];return!isNaN(t.x)}))).join("text").attr("class","label").text((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return p?a.text:a.id})).attr("x",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return h[a.scale[0]].scale(a.x)})).attr("y",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return T(a.y-.05*d)})).attr("text-anchor","middle"),e.selectAll(".intervalLabel").data(L).join("text").attr("class","intervalLabel").text((function(e){return e.text})).attr("x",(function(e){var t=e.source[1],a=e.target[1];return isNaN(t.x)||isNaN(a.x)?isNaN(t.x)?(("noBeginning"===t.x?h[t.scale[0]].noBeginning:h[t.scale[0]].noEnd)+h[a.scale[0]].scale(a.x))/2:isNaN(a.x)?(("noBeginning"===a.x?h[a.scale[0]].noBeginning:h[a.scale[0]].noEnd)+h[t.scale[0]].scale(t.x))/2:void 0:(h[t.scale[0]].scale(t.x)+h[a.scale[0]].scale(a.x))/2})).attr("y",(function(e){return T(Math.min(e.source[1].y,e.target[1].y)-.05*d)})).attr("text-anchor","middle")}var R=Object(j.l)().scaleExtent([1,5]).translateExtent([[-50,0],[M.width+50,M.height]]).on("zoom",(function(e){var t=e.transform;F(t)}));e.on("click",(function(e){if("addInstant"===f){var t=h[N[0]].scale.domain()[1]-h[N[0]].scale.domain()[0],a=h[N[0]].scale.invert(e.layerX),n=T.invert(e.layerY);m({x:U(a,t),y:Math.round(n)}),y("NewInstantForm")}O(null)})),e.call(R)}function U(e,t){var a=Math.log10(t)<1?-Math.floor(Math.log10(t)-1):0;return Math.round(e*Math.pow(10,a))/Math.pow(10,a)}}),[t,a,l,g,f,r,w,M,k,D,O,b,p,v]),Object(h.jsx)("div",{ref:T,className:"svgWrapper",children:Object(h.jsx)("svg",{id:"graphic",ref:E})})},m=function(e){return Object(h.jsx)("img",{src:"/library/".concat(e.urls),alt:"schema-1"})},p=a(4),f=a(37),y=a(38),g=a(12),v=a(39),S=a(42),N=function(e){var t=e.scales,a=e.label,n=e.name,c=e.value,r=e.onChange,l=Object.keys(t).map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}));return Object(h.jsxs)("label",{className:"textSecondary",children:[a,Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("select",{name:n,value:c,onChange:r,children:l})]})},w=function(e){Object(v.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={label:"",xValue:e.target.x,yValue:e.target.y,xScale:e.activeScale[0],yScale:e.activeScale[1],color:"",opacity:"",radius:""},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.handleClose=n.handleClose.bind(Object(g.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(p.a)({},a,t))}},{key:"handleClose",value:function(e){this.props.setToggle(null),e.preventDefault()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Object(u.a)({},this.props.data),a=Object.keys(t).pop()?parseInt(Object.keys(t).pop()):-1,n=t[a],c=parseFloat(this.state.xValue),r=this.state.yValue?parseFloat(this.state.yValue):null;isNaN(c)&&isNaN(r)?alert("Make sure Time and y Position are numbers!"):isNaN(c)?alert("Make sure Time is a number!"):isNaN(r)?alert("Make sure y Position is a number!"):t["".concat(a+1)]=Object(u.a)(Object(u.a)(Object(u.a)({x:c,y:this.state.yValue?r:n?n.y:0,scale:[this.state.xScale,this.state.yScale],target:null,text:this.state.label},this.state.color&&{color:this.state.color}),this.state.radius&&{radius:this.state.radius}),this.state.opacity&&{opacity:this.state.opacity}),this.props.updateSrc(t)}},{key:"render",value:function(){return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsxs)("label",{children:["Label",Object(h.jsx)("input",{type:"text",name:"label",placeholder:"any unicode characters",value:this.state.label,onChange:this.handleChange})]}),Object(h.jsx)("br",{}),Object(h.jsx)(N,{scales:this.props.scales.x,label:"X Scale",name:"xScale",value:this.state.xScale,onChange:this.handleChange}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Time",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"number",name:"xValue",placeholder:"numbers only",value:this.state.xValue,onChange:this.handleChange,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)(N,{scales:this.props.scales.y,label:"Y Scale",name:"yScale",value:this.state.yScale,onChange:this.handleChange}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["y Position",Object(h.jsx)("input",{type:"number",name:"yValue",placeholder:"#s only (default 0)",value:this.state.yValue,onChange:this.handleChange})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Color",Object(h.jsx)("input",{type:"text",name:"color",placeholder:"blue, #4DA6FF, etc.",value:this.state.color,onChange:this.handleChange})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Opacity",Object(h.jsx)("input",{type:"number",name:"opacity",placeholder:"1",value:this.state.opacity,onChange:this.handleChange})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Radius",Object(h.jsx)("input",{type:"number",name:"radius",placeholder:"5",value:this.state.radius,onChange:this.handleChange})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:this.handleClose,children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:this.handleSubmit,children:"Submit"})]})]})}}]),a}(c.a.Component),C=function(e){var t=e.label,a=e.name,n=e.placeholder,c=e.value,r=e.handleChange,l=e.required;return Object(h.jsxs)("label",{className:"textSecondary",children:[t," ",l&&Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:n||"any unicode characters",name:a,value:c,onChange:r,required:l})]})},k=function(e){var t=e.label,a=e.name,n=e.value,c=e.placeholder,r=e.handleChange,l=e.required;return Object(h.jsxs)("label",{className:"textSecondary",children:[t," ",l&&Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:c||"Any real number",name:a,value:n,onChange:r,required:l})]})};var E=function(e){var t=e.data,a=e.updateSrc,c=e.setToggle,r=e.scales,l=e.activeScale,s=(e.history,e.setHistory,Object(n.useState)({text:"",xValue1:"",yValue1:"",xValue2:"",yValue2:"",xScale:l[0],yScale:l[1],color:"",opacity:"",width:""})),o=Object(i.a)(s,2),j=o[0],b=o[1],d=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;b(Object(u.a)(Object(u.a)({},j),{},Object(p.a)({},n,a)))};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsxs)("label",{children:["Label",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",name:"text",placeholder:"any unicode character",value:j.text,onChange:d})]}),Object(h.jsx)("br",{}),Object(h.jsx)(N,{scales:r.x,label:"X Scale",name:"xSelect",value:j.xSelect,onChange:d}),Object(h.jsx)(N,{scales:r.y,label:"Y Scale",name:"ySelect",value:j.ySelect,onChange:d}),Object(h.jsx)("b",{children:"Start:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Time",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",name:"xValue1",placeholder:"numbers only",value:j.xValue1,onChange:d,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["y Position",Object(h.jsx)("input",{type:"text",name:"yValue1",placeholder:"#s only (default 0)",value:j.yValue1,onChange:d})]}),Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"End:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Time",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",name:"xValue2",placeholder:"numbers only",value:j.xValue2,onChange:d,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["y Position",Object(h.jsx)("input",{type:"text",placeholder:"#s only (default 0)",name:"yValue2",value:j.yValue2,onChange:d})]}),Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:"Properties:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Color",Object(h.jsx)("input",{type:"text",placeholder:"blue, #4DA6FF, etc.",name:"color",value:j.color,onChange:d})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Width",Object(h.jsx)("input",{type:"number",name:"width",placeholder:"1.67",value:j.width,onChange:d})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Certainty",Object(h.jsx)("input",{type:"number",placeholder:"0-1",name:"opacity",value:j.opacity,onChange:d})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t),c=Object.keys(n).pop()?parseInt(Object.keys(n).pop()):-1,r=n[c],l=parseFloat(j.xValue1),s=j.yValue1?parseFloat(j.yValue1):null,i=parseFloat(j.xValue2),o=j.yValue2?parseFloat(j.yValue2):null;isNaN(l)||isNaN(s)||isNaN(i)||isNaN(o)?alert("Make sure all Times and y Positions are numbers!"):(n["".concat(c+1)]=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({text:"",x:l,y:j.yValue1?s:r?r.y:0,scale:[j.xScale,j.yScale],target:["".concat(c+2)]},j.text&&{intervalText:j.text}),j.color&&{intervalColor:j.color}),j.width&&{intervalWidth:j.width}),j.opacity&&{intervalOpacity:j.opacity}),n["".concat(c+2)]={text:"",x:i,y:j.yValue2?o:r?r.y:0,scale:[j.xScale,j.yScale],target:null}),a(n)},children:"Submit"})]})]})};var T=function(e){var t=e.zones,a=e.updateSrc,c=e.setToggle,r=e.scales,l=e.activeScale,s=Object(n.useState)({text:"",xScale:l[0],yScale:l[1],start:"",end:"",yValue2:"",yStart:"",yEnd:"",color:"",opacity:""}),o=Object(i.a)(s,2),j=o[0],b=o[1],d=Object(n.useState)(""),x=Object(i.a)(d,2),O=(x[0],x[1],Object(n.useState)("")),m=Object(i.a)(O,2),f=(m[0],m[1],Object(n.useState)("")),y=Object(i.a)(f,2),g=(y[0],y[1],Object(n.useState)(l)),v=Object(i.a)(g,2),S=(v[0],v[1],Object.keys(r).map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)})),Object(n.useState)("")),w=Object(i.a)(S,2),C=(w[0],w[1],Object(n.useState)("")),k=Object(i.a)(C,2),E=(k[0],k[1],Object(n.useState)("")),T=Object(i.a)(E,2),M=(T[0],T[1],Object(n.useState)("")),P=Object(i.a)(M,2),V=(P[0],P[1],function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;b(Object(u.a)(Object(u.a)({},j),{},Object(p.a)({},n,a)))});return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsxs)("label",{children:["Label",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"any unicode characters",name:"text",value:j.text,onChange:V,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)(N,{scales:r.x,label:"X Scale",name:"xScale",value:j.xScale,onChange:V}),Object(h.jsx)("br",{}),Object(h.jsx)(N,{scales:r.y,label:"Y Scale",name:"yScale",value:j.yScale,onChange:V}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Time Start",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"#s, dates, logical operators",name:"start",value:j.start,onChange:V,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Time End",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"#s, dates, logical operators",name:"end",value:j.end,onChange:V,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Color",Object(h.jsx)("input",{type:"text",name:"color",placeholder:"blue, #4DA6FF, etc.",value:j.color,onChange:V})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["Opacity",Object(h.jsx)("input",{type:"number",placeholder:"0 (transparent) - 1 (opaque)",name:"opacity",value:j.opacity,onChange:V})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){var n=Object(u.a)({},t),c=Object.keys(n).pop()?parseInt(Object.keys(n).pop()):-1;n["".concat(c+1)]=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({text:j.text,start:parseFloat(j.start),end:parseFloat(j.end),scale:[j.xScale,j.yScale]},j.yStart&&{yStart:j.yStart}),j.yEnd&&{yEnd:j.yEnd}),j.color&&{color:j.color}),j.opacity&&{opacity:j.opacity}),a(n,"zones"),e.preventDefault()},children:"Submit"})]})]})};var M=function(e){var t=e.src,a=e.updateSrc,c=e.setToggle,r=e.setActiveScale,l=Object(n.useState)({xName:"",xMin:"",xMax:"",xUnits:"",xYPos:"",xTickValues:"",xHideUnits:!1,xSegmentsNum:0,yName:"",yMin:"",yMax:"",yUnits:"",yPercent:"",yHideUnits:!1}),s=Object(i.a)(l,2),o=s[0],j=s[1],b=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;j(Object(u.a)(Object(u.a)({},o),{},Object(p.a)({},n,a)))};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)("span",{className:"textSecondary",children:Object(h.jsx)("b",{children:"x scale"})}),Object(h.jsx)("br",{}),Object(h.jsx)(C,{label:"Name",name:"xName",value:o.xName,handleChange:b,required:!0}),Object(h.jsx)(C,{label:"Units Label",name:"xUnits",placeholder:"ie: Years",value:o.xUnits,handleChange:b,required:!0}),Object(h.jsx)(k,{label:"Minimum Value",name:"xMin",placeholder:"#s for now",value:o.xMin,handleChange:b,required:!0}),Object(h.jsx)(k,{label:"Maximum Value",name:"xMax",placeholder:"#s for now",value:o.xMax,handleChange:b,required:!0}),Object(h.jsx)(k,{label:"Screen Position",name:"xYPos",placeholder:"0 (top) - 1 (bottom)",value:o.xYPos,handleChange:b,required:!0}),Object(h.jsxs)("label",{className:"textSecondary",children:["Segments",Object(h.jsx)("input",{type:"number",placeholder:"granularities within scale",name:"xSegmentsNum",value:o.xSegmentsNum,onChange:b})]}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"textSecondary",children:Object(h.jsx)("b",{children:"y scale"})}),Object(h.jsx)("br",{}),Object(h.jsx)(C,{label:"Name",name:"yName",value:o.yName,handleChange:b,required:!0}),Object(h.jsx)(C,{label:"Units Label",name:"yUnits",placeholder:"ie: Years",value:o.yUnits,handleChange:b,required:!0}),Object(h.jsx)(k,{label:"Minimum Value",name:"yMin",placeholder:"#s for now",value:o.yMin,handleChange:b,required:!0}),Object(h.jsx)(k,{label:"Maximum Value",name:"yMax",placeholder:"#s for now",value:o.yMax,handleChange:b,required:!0}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t.scales),l=parseFloat(o.xMin),s=parseFloat(o.xMax),i=parseFloat(o.xYPos),j=parseFloat(o.yMin),b=parseFloat(o.yMax);l>=s?alert("Minimum Value must be less than or equal to Maximum Value!"):i>1?alert("Vertical Position must be between 0 (top) and 1 (bottom)!"):(n.x[o.xName]={min:l,max:s,units:o.xUnits,yPos:i,segments:[]},n.y[o.yName]=Object(u.a)({min:j,max:b,units:o.yUnits},o.yPercent&&{percent:o.yPercent}),a(n,"scales"),r([o.xName,o.yName]),c(null))},children:"Submit"})]})]})};var P=function(e){var t=e.scales,a=e.updateSrc,c=e.setToggle,r=e.activeScale,l=e.setActiveScale,s=t.x[r[0]],o=t.y[r[1]],j=Object(n.useState)({xSelect:r[0],xMin:s.min,xMax:s.max,xUnits:s.units,xYPos:s.yPos,xTickValues:s.tickValues,xHideUnits:s.hideUnits,xSegmentsNum:s.segments.length,ySelect:r[1],yMin:o.min,yMax:o.max,yUnits:o.units,yPercent:o.percent,yHideUnits:o.hideUnits}),b=Object(i.a)(j,2),d=b[0],x=b[1],O=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;x(Object(u.a)(Object(u.a)({},d),{},Object(p.a)({},n,a)))};return Object(h.jsxs)("form",{className:"ui absolute center container",children:[Object(h.jsx)(N,{scales:t.x,label:"X Scale",name:"xSelect",value:d.xSelect,onChange:O}),Object(h.jsx)(k,{label:"Minimum Value",name:"xMin",placeholder:"#s for now",value:d.xMin,handleChange:O,required:!0}),Object(h.jsx)(k,{label:"Maximum Value",name:"xMax",placeholder:"#s for now",value:d.xMax,handleChange:O,required:!0}),Object(h.jsx)(C,{label:"Units Label",name:"xUnits",placeholder:"ie: Years",value:d.xUnits,handleChange:O,required:!0}),Object(h.jsxs)("label",{className:"textSecondary",children:["Screen Position",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"0 (top) - 1 (bottom)",name:"xYPos",value:d.xYPos,onChange:O,required:!0})]}),Object(h.jsxs)("label",{className:"textSecondary",children:["Segments",Object(h.jsx)("input",{type:"number",placeholder:"granularities within scale",name:"xSegmentsNum",value:d.xSegmentsNum,onChange:O})]}),Object(h.jsx)("br",{}),Object(h.jsx)(N,{scales:t.y,label:"Y Scale",name:"ySelect",value:d.ySelect,onChange:O}),Object(h.jsxs)("label",{className:"textSecondary",children:["Minimum Value",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"#s for now",name:"yMin",value:d.yMin,onChange:O,required:!0})]}),Object(h.jsxs)("label",{className:"textSecondary",children:["Maximum Value",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"#s for now",name:"yMax",value:d.yMax,onChange:O,required:!0})]}),Object(h.jsxs)("label",{className:"textSecondary",children:["Units Label",Object(h.jsx)("span",{className:"redText",children:"* "}),Object(h.jsx)("input",{type:"text",placeholder:"ie: Years",name:"yUnits",value:d.yUnits,onChange:O,required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){var n=Object(u.a)({},t);n.x[d.xSelect]={min:parseFloat(d.xMin),max:parseFloat(d.xMax),units:d.xUnits,yPos:parseFloat(d.xYPos),segments:[]},n.y[d.ySelect]=Object(u.a)({min:parseFloat(d.yMin),max:parseFloat(d.yMax),units:d.yUnits},d.yPercent&&{percent:d.yPercent}),a(n,"scales"),l([d.xSelect,d.ySelect]),c(null),e.preventDefault()},children:"Submit"})]})]})};var V=function(e,t,a){var n=Object(u.a)({},t);Object.entries(n).map((function(e){var t=Object(i.a)(e,2);t[0];return t[1]})).forEach((function(t){t.target&&t.target.includes(e[0])&&(t.target.length>1?t.target=t.target.filter((function(t){return t!==e[0]})):t.target=null)})),delete n[e[0]],a(n)};var D,F=function(e,t,a){var n=Object(u.a)({},t),c=e.source[0],r=e.target[0];Object.entries(n).map((function(e){var t=Object(i.a)(e,2);t[0];return t[1]})).forEach((function(e){e.target&&(e.target.includes(c)||e.target.includes(r))&&(e.target.length>1?e.target=e.target.filter((function(e){return e!==c&&e!==r})):e.target=null)})),delete n[c],delete n[r],a(n)},I=["title","titleId"];function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Z(e,t){var a=e.title,c=e.titleId,r=A(e,I);return n.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.54 17.54",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,D||(D=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"working_layer","data-name":"working layer"},n.createElement("path",{d:"M17.4,3.06,14.48.15a.5.5,0,0,0-.71,0L1.14,12.78A.48.48,0,0,0,1,13L0,16.92a.48.48,0,0,0,.13.48.5.5,0,0,0,.35.14H.62l3.92-1a.59.59,0,0,0,.23-.13L17.4,3.77a.5.5,0,0,0,.14-.35A.52.52,0,0,0,17.4,3.06ZM4.16,15.6l-3,.75.76-3L12.47,2.86l2.21,2.21ZM15.39,4.36,13.18,2.15l1-.94,2.21,2.21Z"})))))}var q=n.forwardRef(Z);a.p;var R=function(e){return e.editMode?Object(h.jsx)("input",{name:e.name,type:e.inputType,placeholder:e.placeholder,value:e.value,onChange:function(t){return e.handleChange(t)},required:e.required}):e.value?Object(h.jsx)(h.Fragment,{children:e.value}):Object(h.jsx)("span",{className:"textSecondary",children:e.nullValue})};var U=function(e){var t=e.info,a=e.setInfo,c=(e.history,e.setHistory,e.data),r=e.zones,l=e.updateSrc,s=e.radius,o=null,j=Array.isArray(t.target)?t.target[1]:t.target,b=Object(n.useState)(!1),d=Object(i.a)(b,2),x=d[0],O=d[1],m={time:j.x,yPos:j.y,radius:j.radius,sourceX:j.source?j.source[1].x:null,sourceY:j.source?j.source[1].y:null,targetX:j.source?j.target[1].x:null,targetY:j.source?j.target[1].y:null,timeStart:j.start,timeEnd:j.end,yStart:j.yStart,yEnd:j.yEnd,text:j.text,color:j.color,opacity:j.opacity,width:j.width,importance:j.importance};Object.entries(m).forEach((function(e){e[1]||(m[e[0]]="")}));var f=Object(n.useState)(m),y=Object(i.a)(f,2),g=y[0],v=y[1],S=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;v(Object(u.a)(Object(u.a)({},g),{},Object(p.a)({},n,a)))},N=function(e){e.preventDefault(),v(m),O(!1)};switch(t.type){case"interval":o=Object(h.jsxs)("form",{className:"container",children:[Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(h.jsx)("br",{}),"From: \xa0",Object(h.jsx)("br",{}),"To: \xa0",Object(h.jsx)("br",{}),"Color: \xa0",Object(h.jsx)("br",{}),"Opacity: \xa0",Object(h.jsx)("br",{}),"Importance: \xa0",Object(h.jsx)("br",{}),"Width: \xa0"]}),Object(h.jsxs)("div",{className:"containerRight",children:[Object(h.jsx)(R,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"sourceX",value:g.sourceX,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),",\xa0",Object(h.jsx)(R,{name:"sourceY",value:g.sourceY,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"targetX",value:g.targetX,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),",\xa0",Object(h.jsx)(R,{name:"targetY",value:g.targetY,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"width",value:g.width,nullValue:"".concat(s),inputType:"text",placeholder:"any real number",editMode:x,handleChange:S}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("div",{className:"flexCenter",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:N,children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var t=Object(u.a)({},c),n=[g.sourceX,g.sourceY,g.targetX,g.targetY].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)})),r=t[j.source[0]];r.x=n[0],r.y=n[1],t[j.target[0]].x=n[2],t[j.target[0]].y=n[3],r.intervalColor=g.color,r.intervalWidth=g.width,r.intervalOpacity=g.opacity,r.intervalText=g.text,l(t),O(!1),a(null)},children:"Submit"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),O(!0)},children:"Edit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),F(j,c,l),a(null)},children:"Delete Interval"})]})})]});break;case"zone":o=Object(h.jsxs)("form",{className:"container",children:[Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(h.jsx)("br",{}),"Time Start: \xa0",Object(h.jsx)("br",{}),"Time End: \xa0",Object(h.jsx)("br",{}),"Color: \xa0",Object(h.jsx)("br",{}),"Opacity: \xa0",Object(h.jsx)("br",{}),"Importance: \xa0"]}),Object(h.jsxs)("div",{className:"containerRight",children:[Object(h.jsx)(R,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"timeStart",value:g.timeStart,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"timeEnd",value:g.timeEnd,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("div",{className:"flexCenter",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:N,children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},r),c=[g.timeStart,g.timeEnd].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)}));n[t.target[0]]=Object(u.a)(Object(u.a)({},n[t.target[0]]),{},{start:c[0],end:c[1],yStart:c[2],yEnd:c[3],text:g.text,color:g.color,opacity:g.opacity,importance:g.importance}),console.log(n[t.target[0]]),l(n,"zones"),O(!1),a(null)},children:"Submit"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),O(!0)},children:"Edit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},r);delete n[t.target[0]],l(n,"zones"),a(null)},children:"Delete Zone"})]})})]});break;default:o=Object(h.jsxs)("form",{className:"container",children:[Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(h.jsx)("br",{}),"Time: \xa0",Object(h.jsx)("br",{}),"Y Position: \xa0",Object(h.jsx)("br",{}),"Color: \xa0",Object(h.jsx)("br",{}),"Opacity: \xa0",Object(h.jsx)("br",{}),"Radius: \xa0",Object(h.jsx)("br",{}),"Importance: \xa0",Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{className:"containerRight",children:[Object(h.jsx)(R,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"time",value:g.time,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"yPos",value:g.yPos,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"radius",value:g.radius,nullValue:"".concat(s),inputType:"text",placeholder:"any real number",editMode:x,handleChange:S}),Object(h.jsx)("br",{}),Object(h.jsx)(R,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("div",{className:"flexCenter",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:N,children:"Cancel"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},c),r=[g.time,g.yPos].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)}));n[t.target[0]]=Object(u.a)(Object(u.a)({},n[t.target[0]]),{},{x:r[0],y:r[1],text:g.text,color:g.color,radius:g.radius,opacity:g.opacity,importance:g.importance}),l(n),O(!1),a(null)},children:"Submit"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),O(!0)},children:"Edit"})," \xa0",Object(h.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),V(t.target,c,l),a(null)},children:"Delete Instant"})]})})]})}return Object(h.jsx)("div",{className:"ui absolute",style:{left:t.position[0]+"px",top:t.position[1]+"px"},children:o})};var Y=function(e){var t=e.src,a=e.setSrc,c=e.zones,r=e.scales,l=e.data,s=e.activeData,o=e.setToggle,j=e.fileName,b=Object(n.useState)(j),d=Object(i.a)(b,2),x=d[0],O=d[1];return Object(h.jsxs)("form",{className:"ui absolute center",onSubmit:function(e){e.preventDefault();var n=Object(u.a)({},t);n.instants[s]=l,n.zones=c,n.scales=r,a(n);var i=JSON.stringify(n),o=new Blob([i],{type:"text/plain"}),j=URL.createObjectURL(o),b=document.createElement("a");b.download="".concat(x,".json"),b.href=j,b.click()},children:[Object(h.jsx)("button",{className:"right",onClick:function(e){e.preventDefault(),o(null)},children:"x"}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{children:["File Name ",Object(h.jsx)("span",{className:"redText",children:"* "}),":",Object(h.jsx)("input",{type:"text",value:x,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"Save Data"})]})};var z,B,H=function(e){var t=e.setToggle,a=e.setSrc,c=e.setScales,r=e.setData,l=e.setZones,s=e.activeData,o=e.setActiveData,u=(e.activeScale,e.setActiveScale),j=e.setFileName,b=e.setProj,d=Object(n.useState)(),x=Object(i.a)(d,2),O=x[0],m=x[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),y=f[0],g=f[1];return Object(h.jsxs)("form",{className:"ui absolute center",onSubmit:function(e){e.preventDefault();var n=new FileReader;n.readAsText(O),n.onload=function(){var e=JSON.parse(n.result);j(O.name.replace(".json","")),a(e),c(e.scales),u([Object.keys(e.scales.x)[0],Object.keys(e.scales.y)[0]]),o(0),r(e.instants[s]),l(e.zones)},n.onerror=function(){console.log(n.error)},b(!0),t(null)},children:[Object(h.jsx)("button",{className:"right uiButton closeButton",onClick:function(e){t(null),e.preventDefault()},children:"x"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"file",name:"data",onChange:function(e){m(e.target.files[0]),g(!0),e.preventDefault()}}),Object(h.jsx)("br",{}),y?Object(h.jsxs)("p",{children:["File name: ",O.name,Object(h.jsx)("br",{}),"File type: ",O.type,Object(h.jsx)("br",{}),"Size: ",O.size/1e3," KB"]}):Object(h.jsx)("p",{children:"Select a file to show details"}),Object(h.jsx)("input",{className:"uiButton",type:"submit",value:"Upload"})]})},X=["title","titleId"];function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function J(e,t){var a=e.title,c=e.titleId,r=_(e,X);return n.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,z||(z=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),B||(B=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M28.46,31.33h-14a1,1,0,0,1-1-1V12.59a1,1,0,0,1,1-1h8.3l.12,0h0a1,1,0,0,1,.45.28h0l5.87,6.55h0a1.1,1.1,0,0,1,.23.44h0s0,.09,0,.14h0V30.33A1,1,0,0,1,28.46,31.33Zm-13-2h12V20.14H22.58a1,1,0,0,1-1-1V13.59H15.45Zm8.13-11.19h2.64L23.58,15.2Z"})))))}var G,K,Q=n.forwardRef(J),$=(a.p,["title","titleId"]);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ae(e,t){var a=e.title,c=e.titleId,r=te(e,$);return n.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,G||(G=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),K||(K=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("circle",{cx:21.46,cy:21.46,r:2.97})))))}var ne,ce,re=n.forwardRef(ae),le=(a.p,["title","titleId"]);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function oe(e,t){var a=e.title,c=e.titleId,r=ie(e,le);return n.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,ne||(ne=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),ce||(ce=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M31.88,22.46H11a1,1,0,0,1,0-2H31.88a1,1,0,1,1,0,2Z"})))))}var ue,je,be=n.forwardRef(oe),de=(a.p,["title","titleId"]);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Oe(e,t){var a=e.title,c=e.titleId,r=he(e,de);return n.createElement("svg",xe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,ue||(ue=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),je||(je=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M32.75,11.83H10.17a1,1,0,0,0-1,1V30.08a1,1,0,0,0,1,1H32.75a1,1,0,0,0,1-1V12.83A1,1,0,0,0,32.75,11.83Zm-7,17.25,6-7v2.57L28,29.08Zm-4.85,0L31.75,16.49v2.56l-8.63,10Zm-4.84,0L29.19,13.83h2.2L18.28,29.08Zm-4.84,0L24.35,13.83h2.2L13.43,29.08Zm5.63-15.25-5.69,6.63V17.9l3.49-4.07Zm-5.69,9.7,8.33-9.7h2.21L11.17,26.09Zm.85-9.7-.85,1v-1ZM30.6,29.08l1.15-1.34v1.34Z"})))))}var me,pe,fe=n.forwardRef(Oe),ye=(a.p,["title","titleId"]);function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Se(e,t){var a=e.title,c=e.titleId,r=ve(e,ye);return n.createElement("svg",ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,me||(me=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),pe||(pe=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M14.27,16.77H28.64a1,1,0,0,0,0-2H14.27a1,1,0,0,0,0,2Z"}),n.createElement("path",{d:"M28.64,20.27H14.27a1,1,0,0,0,0,2H28.64a1,1,0,0,0,0-2Z"}),n.createElement("path",{d:"M28.64,25.78H14.27a1,1,0,1,0,0,2H28.64a1,1,0,0,0,0-2Z"})))))}var Ne,we,Ce=n.forwardRef(Se),ke=(a.p,["title","titleId"]);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Te(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Me(e,t){var a=e.title,c=e.titleId,r=Te(e,ke);return n.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,Ne||(Ne=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),we||(we=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M27.89,31.63H18.46a2.73,2.73,0,0,1-2.3-1l-.26-.34-.85-1.08c-2.16-2.74-4-5.1-2.78-6.7a2.33,2.33,0,0,1,1.86-1h0a3.44,3.44,0,0,1,2.17,1V15.35a2.52,2.52,0,0,1,2.59-2.43,2.74,2.74,0,0,1,.7.09,2.57,2.57,0,0,1,2.47-1.73,2.68,2.68,0,0,1,2,.86,2.68,2.68,0,0,1,1.2-.28,2.56,2.56,0,0,1,2.53,1.91,3,3,0,0,1,.68-.08A2.52,2.52,0,0,1,31,16.12V28.66A3.07,3.07,0,0,1,27.89,31.63Zm-13.76-8.1c-.09,0-.22.17-.28.24-.1.6,1.77,3,2.77,4.22l.87,1.11.26.34c.06.09.29.19.71.19h9.43a1.08,1.08,0,0,0,1.15-1V16.12c0-.23-.27-.43-.59-.43s-.59.2-.59.43v5a1,1,0,0,1-1,1,1,1,0,0,1-1-1V14.29c0-.23-.27-.43-.59-.43s-.58.2-.58.43v6.82a1,1,0,0,1-2,0V13.72c0-.24-.27-.44-.59-.44s-.59.2-.59.44v7.39a1,1,0,0,1-2,0V15.35c0-.23-.26-.43-.58-.43s-.59.2-.59.43V24.8a.57.57,0,0,1,0,.13v.2a1,1,0,0,1-1.79.61c-1.62-2.1-2.28-2.2-2.4-2.21Z"})))))}var Pe,Ve,De=n.forwardRef(Me),Fe=(a.p,["title","titleId"]);function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Ae(e,t){var a=e.title,c=e.titleId,r=Le(e,Fe);return n.createElement("svg",Ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,Pe||(Pe=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),Ve||(Ve=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M11,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,11,23.81Z"}),n.createElement("path",{d:"M16.25,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,16.25,23.81Z"}),n.createElement("path",{d:"M26.67,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,26.67,23.81Z"}),n.createElement("path",{d:"M21.46,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,21.46,23.81Z"}),n.createElement("path",{d:"M31.88,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,31.88,23.81Z"})))))}var Ze,qe,Re=n.forwardRef(Ae),Ue=(a.p,["title","titleId"]);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Be(e,t){var a=e.title,c=e.titleId,r=ze(e,Ue);return n.createElement("svg",Ye({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,Ze||(Ze=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),qe||(qe=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M31.91,21.11a12.69,12.69,0,0,0-10.45-5.73A12.7,12.7,0,0,0,11,21.11a1,1,0,0,0,0,1,12.67,12.67,0,0,0,10.46,5.73,12.67,12.67,0,0,0,10.45-5.73A1,1,0,0,0,31.91,21.11ZM21.46,25a3.36,3.36,0,1,1,3.36-3.36A3.36,3.36,0,0,1,21.46,25Zm-8.39-3.36a11.22,11.22,0,0,1,4.26-3.38,5.25,5.25,0,0,0,0,6.75A11.31,11.31,0,0,1,13.07,21.63ZM25.6,25a5.29,5.29,0,0,0,1.22-3.35,5.36,5.36,0,0,0-1.23-3.38,11.29,11.29,0,0,1,4.24,3.37A11.23,11.23,0,0,1,25.6,25Z"})))))}var He,Xe,We=n.forwardRef(Be),_e=(a.p,["title","titleId"]);function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Ke(e,t){var a=e.title,c=e.titleId,r=Ge(e,_e);return n.createElement("svg",Je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,He||(He=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),Xe||(Xe=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("circle",{cx:12.18,cy:21.46,r:2.97}),n.createElement("path",{d:"M30.74,20.49a1,1,0,1,1-1,1,1,1,0,0,1,1-1m0-2a3,3,0,1,0,3,3,3,3,0,0,0-3-3Z"}),n.createElement("path",{d:"M30.74,16.7a1,1,0,0,1-.74-.32A9.47,9.47,0,0,0,28.26,15,1,1,0,0,1,28,13.62a1,1,0,0,1,1.38-.31A11.87,11.87,0,0,1,31.48,15a1,1,0,0,1-.07,1.41A1,1,0,0,1,30.74,16.7Z"}),n.createElement("path",{d:"M25.21,13.56a1.26,1.26,0,0,1-.27,0,12.23,12.23,0,0,0-1.82-.37A1,1,0,0,1,22.26,12a1,1,0,0,1,1.12-.86,15,15,0,0,1,2.1.42,1,1,0,0,1,.69,1.24A1,1,0,0,1,25.21,13.56Z"}),n.createElement("path",{d:"M17.7,13.56a1,1,0,0,1-.27-2,15.15,15.15,0,0,1,2.11-.42,1,1,0,1,1,.25,2,12.77,12.77,0,0,0-1.82.37A1.26,1.26,0,0,1,17.7,13.56Z"}),n.createElement("path",{d:"M12.18,16.7a1,1,0,0,1-.68-.26A1,1,0,0,1,11.44,15a11.15,11.15,0,0,1,2.14-1.72,1,1,0,0,1,1.38.31A1,1,0,0,1,14.65,15a9.94,9.94,0,0,0-1.74,1.38A1,1,0,0,1,12.18,16.7Z"}),n.createElement("rect",{className:"cls-1",width:42.91,height:42.91})))))}var Qe=n.forwardRef(Ke);a.p;a.p;function $e(e){var t=e.editMode;return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)("button",{className:"buttonSecondary",children:"submit"}):Object(h.jsx)("button",{className:"editButton",children:Object(h.jsx)(q,{className:"editIcon"})})})}var et=function(e){var t,a,c=Object(n.useState)(null),r=Object(i.a)(c,2),l=r[0],s=r[1],o=Object(n.useState)(Object(h.jsx)(be,{className:"icon",alt:"interval"})),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(n.useState)(!1),x=Object(i.a)(d,2),O=x[0],m=x[1],f=function(t,a){a?a.preventDefault():t.preventDefault(),s(t),e.toggle&&e.toggle===t?(e.setToggle(null),s(null)):e.setToggle(t)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("nav",{className:"container flexRow fullWidth containerSpace",children:[Object(h.jsxs)("div",{className:"container flexRow containerLeft",children:[Object(h.jsxs)("div",{className:"dropdown left",children:[Object(h.jsx)("button",{onClick:function(e){return f("temporalObject",e)},disabled:!e.hasScales,className:"".concat(e.hasScales?"":"disabled").concat("addInstant"===e.toggle?"toolActive":""),title:"Temporal Objects",children:j}),"temporalObject"===l&&Object(h.jsxs)("ul",{className:"dropdown-content",children:[Object(h.jsx)("li",{children:Object(h.jsxs)("button",{onClick:function(e){f("addInterval",e),b(Object(h.jsx)(be,{className:"icon",alt:"Interval"}))},title:"Interval",children:[Object(h.jsx)(be,{alt:"Interval"}),"Interval"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("button",{onClick:function(e){f("addInstant",e),b(Object(h.jsx)(re,{className:"icon",alt:"Instant"}))},title:"Instant",children:[Object(h.jsx)(re,{alt:"Instant"}),"Instant"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("button",{onClick:function(e){f("addZone",e),b(Object(h.jsx)(fe,{className:"icon",alt:"Zone"}))},title:"Zone",children:[Object(h.jsx)(fe,{alt:"Zone"}),"Zone"]})})]})]}),Object(h.jsxs)("div",{className:"dropdown left",children:[Object(h.jsx)("button",{onClick:function(e){return f("inflections",e)},disabled:!e.hasScales,className:e.hasScales?"":"disabled",title:"Inflections",children:Object(h.jsx)(Qe,{className:"icon",alt:"Cancelled"})}),"inflections"===l&&Object(h.jsxs)("ul",{className:"dropdown-content  ",children:[Object(h.jsx)("li",{className:"subheading",children:"Semantic"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("importance",e)},children:"Importance"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("certainty",e)},children:"Certainty"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("cancelled",e)},children:"Cancelled"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("foreshadowing",e)},children:"Foreshadowing"})}),Object(h.jsx)("li",{className:"subheading",children:"Syntactic"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("connection",e)},children:"Connection"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{children:"Causality"})})]})]}),Object(h.jsxs)("div",{className:"dropdown left",children:[Object(h.jsx)("button",{onClick:function(e){return f("scales",e)},disabled:!e.proj,className:e.proj?"":"disabled",title:"Scales",children:Object(h.jsx)(Re,{className:"icon",alt:"Scales"})}),"scales"===l&&Object(h.jsxs)("ul",{className:"dropdown-content  ",children:[Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("editScale",e)},disabled:!e.hasScales,className:e.hasScales?"":"disabled",title:"Edit Scale",children:"Edit Scale"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("addScale",e)},title:"Create Scale",children:"Create Scale"})})]})]}),Object(h.jsxs)("div",{className:"dropdown left",children:[Object(h.jsx)("button",(t={className:"fullWidth",onClick:function(e){return f("file",e)},disabled:!e.proj},Object(p.a)(t,"className",e.proj?"":"disabled"),Object(p.a)(t,"title","File"),Object(p.a)(t,"children",Object(h.jsx)(Q,{className:"icon",alt:"File"})),t)),"file"===l&&Object(h.jsxs)("ul",{className:"dropdown-content  ",children:[Object(h.jsx)("li",{className:"subheading",children:"Edit"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:e.undo,children:"Undo"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("redo",e)},children:"Redo"})}),Object(h.jsx)("li",{className:"subheading",children:"Document"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("import",e)},children:"Import Data"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("save",e)},children:"Save & Export"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{id:"importImg",children:"Import Image"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{children:"Import from Library"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{children:"New Project"})})]})]})]}),e.proj&&Object(h.jsxs)("form",{className:"container flexRow flexCenter",onSubmit:function(e){e.preventDefault(),m(!O)},children:[Object(h.jsx)(R,{name:"name",value:e.fileName,nullValue:"Untitled",inputType:"text",placeholder:"insert file name",editMode:O,handleChange:function(t){return e.setFileName(t.target.value)},required:!0}),Object(h.jsx)("br",{}),Object(h.jsx)($e,{editMode:O})]}),Object(h.jsxs)("div",{className:"right container flexRow containerRight",children:[Object(h.jsx)("button",(a={className:"right",onClick:function(e){return f("pan",e)},disabled:!e.hasScales},Object(p.a)(a,"className",e.hasScales?"":"disabled"),Object(p.a)(a,"title","Pan"),Object(p.a)(a,"children",Object(h.jsx)(De,{className:"icon",alt:"Pan"})),a)),Object(h.jsxs)("div",{className:"dropdown right",children:[Object(h.jsx)("button",{onClick:function(e){return f("views",e)},disabled:!e.hasScales,className:e.hasScales?"":"disabled",title:"Views",children:Object(h.jsx)(We,{className:"icon",alt:"Views"})}),"views"===l&&Object(h.jsxs)("ul",{className:"dropdown-content rightPos",children:[Object(h.jsx)("li",{className:"subheading",children:"Graphics"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{children:"Working Data"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("scrubber",e)},children:"Scrubber"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{children:"Emperical/Relative Scales"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("layers",e)},children:"Layers"})}),Object(h.jsx)("li",{className:"subheading",children:"UI"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("showLabel",e)},children:e.showLabel?"Show IDs":"Show Labels"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(e){return f("legend",e)},children:"Legend"})})]})]}),Object(h.jsxs)("div",{className:"dropdown right",children:[Object(h.jsx)("button",{onClick:function(e){return f("menu",e)},title:"Menu",children:Object(h.jsx)(Ce,{className:"icon",alt:"Menu"})}),"menu"===l&&Object(h.jsxs)("ul",{className:"dropdown-content rightPos",children:[Object(h.jsx)("li",{className:"subheading",children:"Settings"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{id:"acessibility",children:"Accessibility"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{id:"theme",children:"Theme"})}),Object(h.jsx)("li",{className:"subheading",children:"Chrono Vis"}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{id:"about",children:"About"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{id:"documentation",children:"Documentation"})})]})]})]})]})})};var tt=function(e){e.activeLayer;var t=e.setActiveLayer,a=e.data,n=function(e){var a=e.target.parentNode;t(parseInt(a.id)),e.preventDefault()},c=Object(s.a)(new Set(a.map((function(e){return e.layer})))).sort((function(e,t){return e-t})).filter((function(e){return 0!==e})).map((function(e){return Object(h.jsxs)("li",{id:e,children:[" Layer ",e," ",Object(h.jsx)("button",{onClick:n,children:"Select"})]},e)}));return Object(h.jsxs)("div",{className:"ui absolute dropdown rightPos",children:["Layers",Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["All layers ",Object(h.jsx)("button",{onClick:n,children:"Select"})]}),c]})]})};var at=function(e){var t=e.activeData,a=e.setActiveData,n=e.src,c=e.setData,r=function(e){"foward"===e.target.id?a(t+=1):a(t-=1),c(n.instants[t])};return Object(h.jsxs)("div",{className:"ui absolute center",children:[Object(h.jsx)("button",{id:"back",onClick:r,disabled:0===t,children:"<"}),t,Object(h.jsx)("button",{id:"foward",onClick:r,disabled:t===n.instants.length-1,children:">"})]})};var nt=function(){return Object(h.jsxs)("div",{className:"ui absolute dropdown rightPos",children:["Legend",Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{style:{backgroundColor:"black"},children:"\u2003"})," Hank"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{style:{backgroundColor:"red"},children:"\u2003"})," Peggy"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{style:{backgroundColor:"#4DA6FF"},children:"\u2003"})," Bobby"]})]})]})};var ct=function(e){return e.target?e.target.source?Object(h.jsxs)("p",{children:["Selected: ",e.target.source.name," (",e.target.source.id,") \u2013 ",e.target.target.name," (",e.target.target.id,")"]}):e.target.start?Object(h.jsxs)("p",{children:["Selected: ",e.target.name," (",e.target.start," - ",e.target.end,")"]}):Object(h.jsxs)("p",{children:["Selected: ",e.target.name," (",e.target.id,")"]}):Object(h.jsx)("p",{children:"Selected: None"})};var rt=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(h.jsxs)("form",{className:"ui absolute center",onSubmit:function(t){if(t.preventDefault(),e.target.start){var a=Object(s.a)(e.zones);return a.find((function(t){return t.id===e.target.id})).opacity=.5*parseFloat(c),void e.setZones(a)}var n=Object(s.a)(e.data);if(e.target.source){n.find((function(t){return t.id===e.target.source.id})).intervalOpacity=parseFloat(c)}else{var r=n.find((function(t){return t.id===e.target.id}));r.intervalOpacity=r.opacity?r.opacity:1,r.opacity=parseFloat(c)}e.updateSrc(n)},children:[Object(h.jsx)("button",{className:"right",onClick:function(t){e.setToggle(null),t.preventDefault()},children:"x"}),Object(h.jsx)("br",{}),Object(h.jsx)(ct,{target:e.target[1].text}),Object(h.jsxs)("label",{children:["Certainty",Object(h.jsx)("input",{type:"text",placeholder:"0 (never) - 1 (certain)",value:c,onChange:function(e){return r(e.target.value)},required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})};var lt=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(h.jsxs)("form",{className:"ui absolute center",onSubmit:function(t){if(t.preventDefault(),e.target.start){var a=Object(s.a)(e.Zones);return a.find((function(t){return t.id===e.target.id})).importance=parseFloat(c),void e.setZones(a)}var n=Object(s.a)(e.data);if(e.target.source){var r=n.find((function(t){return t.id===e.target.source.id}));r.intervalWidth=r.intervalWidth?r.intervalWidth*(1+c/2):e.radius/3*(1+c/2)}else{var l=n.find((function(t){return t.id===e.target.id}));l.radius=l.radius?l.radius*(1+c/2):e.radius*(1+c/2)}e.setData(n)},children:[Object(h.jsx)("button",{className:"right",onClick:function(t){e.setToggle(null),t.preventDefault()},children:"x"}),Object(h.jsx)("br",{}),Object(h.jsx)(ct,{target:e.target}),Object(h.jsxs)("label",{children:["Importance",Object(h.jsx)("input",{type:"number",placeholder:"ints relative to 0 (+ and -)",value:c,onChange:function(e){return r(e.target.value)},required:!0})]}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})};var st=function(e){return Object(h.jsxs)("form",{className:"ui absolute center",onSubmit:function(t){if(t.preventDefault(),e.target[0]&&e.target[0]){var a=Object(s.a)(e.data),n=a.find((function(t){return t.id===e.target[0].id}));if(e.target[1].x){var c=e.target[1];n.connections=[{x:c.x,y:c.y,scale:c.scale},0]}else{var r=a.find((function(t){return t.id===e.target[1].id}));n.connections=[r.id,0],r.connections=[n.id,1]}e.setData(a)}else console.log("error")},children:[Object(h.jsx)("button",{className:"right",onClick:function(t){e.setToggle(null),t.preventDefault()},children:"x"}),Object(h.jsx)("br",{}),Object(h.jsxs)("p",{children:["Connect",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:e.target[0]?"".concat(e.target[0].name,"(").concat(e.target[0].id,")"):"None"})," ",!e.target[2]&&"<",Object(h.jsx)("br",{}),"with",Object(h.jsx)("br",{}),Object(h.jsx)("b",{children:e.target[1]?"".concat(e.target[1].name,"(").concat(e.target[1].id,")"):"None"})," ",1===e.target[2]&&"<"]}),Object(h.jsx)("input",{type:"submit",value:"Submit"})]})};var it=function(e){var t=e.setProj,a=e.setFileName,c=e.setToggle,r=Object(n.useState)(""),l=Object(i.a)(r,2),s=l[0],o=l[1];return Object(h.jsx)("div",{className:"fullHeight container bgSecondary",children:Object(h.jsxs)("div",{className:"flexCenter thirdWidth",children:[Object(h.jsxs)("h1",{children:["Hi, welcome to ",Object(h.jsx)("br",{}),"ChronoVis: Paintbox."]}),Object(h.jsx)("p",{className:"smallTxt",children:"By Johanna Drucker, developed by Skye Hoffman."}),Object(h.jsxs)("p",{className:"smallTxt",children:["A no-code graphical interface for generating temporal data visualizations, designed by the humanities for the humanities. ",Object(h.jsx)("a",{href:"#",children:"More info here."})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{className:"container containerStretch flexRow",onSubmit:function(e){e.preventDefault(),t(!0),a(s)},children:[Object(h.jsx)("input",{type:"text",className:"flexGrow2",placeholder:"insert project name",value:s,onChange:function(e){return o(e.target.value)},required:!0}),"\xa0\xa0\xa0",Object(h.jsx)("button",{className:"buttonPrimary",children:"Create Project"})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"container flexRow",children:[Object(h.jsx)("button",{className:"buttonPrimary",onClick:function(e){return c("import")},children:"Import Project"}),"\xa0\xa0\xa0",Object(h.jsx)("button",{className:"buttonPrimary",onClick:function(e){e.preventDefault(),window.open("https://youtu.be/y0sMNCfgH-8")},children:"First Time?"})]})]})})};var ot=function(e){var t=e.setToggle;return Object(h.jsxs)("div",{className:"flexCenter",children:[Object(h.jsx)("button",{className:"buttonPrimary",onClick:function(){return t("import")},children:"Upload data"})," or ",Object(h.jsx)("button",{className:"buttonPrimary",onClick:function(){return t("addScale")},children:"Create a scale"})]})};var ut=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),c=Object(i.a)(a,2),r=c[0],l=c[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(n.useState)({imgs:[],instants:[[]],zones:[],scales:{x:{"Egyptian Dynasties":{min:-3100,max:-30,units:"Years BCE",yPos:1,tickValues:[],segments:[]}},y:{"Place in Text":{min:3,max:11,units:"paragraph"}}}}),x=Object(i.a)(d,2),p=x[0],f=x[1],y=Object(n.useState)([]),g=Object(i.a)(y,2),v=g[0],S=g[1],N=Object(n.useState)(0),C=Object(i.a)(N,2),k=C[0],V=C[1],D=Object(n.useState)(),F=Object(i.a)(D,2),I=F[0],L=F[1],A=Object(n.useState)(),Z=Object(i.a)(A,2),q=(Z[0],Z[1],Object(n.useState)(p.instants[k])),R=Object(i.a)(q,2),z=R[0],B=R[1],X=Object(n.useState)(p.zones),W=Object(i.a)(X,2),_=W[0],J=W[1],G=Object(n.useState)(p.scales),K=Object(i.a)(G,2),Q=K[0],$=K[1],ee=Object(n.useState)(!0),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)([Object.keys(Q.x)[0],Object.keys(Q.y)[0]]),re=Object(i.a)(ce,2),le=re[0],se=re[1],ie=Object(n.useState)(),oe=Object(i.a)(ie,2),ue=oe[0],je=oe[1],be=Object(n.useState)(),de=Object(i.a)(be,2),xe=de[0],he=de[1],Oe=Object(n.useState)(),me=Object(i.a)(Oe,2),pe=me[0],fe=me[1],ye=Object(n.useState)([null,null,null]),ge=Object(i.a)(ye,2),ve=ge[0],Se=ge[1],Ne=function(e,t){S([].concat(Object(s.a)(v),[{src:p,activeScale:le,activeData:k,activeLayer:I}]));var a=p;"zones"===t?(J(e),a.zones=_):"scales"===t?($(e),a.scales=e):(B(e),a.instants[k]=z),console.log(v),f(a),je(null)};return Object(h.jsxs)(h.Fragment,{children:[xe&&Object(h.jsx)(U,{info:xe,setInfo:he,history:v,setHistory:S,data:z,setData:B,src:p,setSrc:f,updateSrc:Ne,zones:_,radius:4}),Object(h.jsx)(et,{toggle:ue,setToggle:je,data:z,showLabel:ae,setShowLabel:ne,hasScales:Object.keys(Q.y).length,fileName:j,setFileName:b,proj:r,undo:function(){var e=Object(s.a)(v),t=e.pop();e.length&&void 0!==t&&(console.log(e.pop()),S([e]),se(t.activeScale),V(t.activeData),L(t.activeLayer),f(t.src),$(t.src.scales),B(t.src.instants[k]),J(t.src.zones))}}),"scrubber"===ue&&Object(h.jsx)(at,{activeData:k,setActiveData:V,src:p,setData:B}),"NewInstantForm"===ue&&Object(h.jsx)(w,{data:z,setData:B,target:pe,setToggle:je,scales:p.scales,activeScale:le,activeData:k,history:v,setHistory:S,updateSrc:Ne}),"editScale"===ue&&Object(h.jsx)(P,{scales:Q,updateSrc:Ne,setToggle:je,activeScale:le,setActiveScale:se}),"addZone"===ue&&Object(h.jsx)(T,{zones:_,updateSrc:Ne,setToggle:je,scales:Q,activeScale:le}),"addInterval"===ue&&Object(h.jsx)(E,{data:z,updateSrc:Ne,setToggle:je,scales:Q,activeScale:le,history:v,setHistory:S}),"addScale"===ue&&Object(h.jsx)(M,{src:p,updateSrc:Ne,setToggle:je,setActiveScale:se}),"save"===ue&&Object(h.jsx)(Y,{src:p,setSrc:f,data:z,zones:_,scales:Q,activeData:k,setToggle:je,fileName:j}),"legend"===ue&&Object(h.jsx)(nt,{}),"layers"===ue&&Object(h.jsx)(tt,{activeLayer:I,setActiveLayer:L,data:z}),"import"===ue&&Object(h.jsx)(H,{setSrc:f,setScales:$,setZones:J,setData:B,activeData:k,setActiveData:V,activeScale:le,setActiveScale:se,setToggle:je,setProj:l,setFileName:b}),"certainty"===ue&&Object(h.jsx)(rt,{target:pe,setToggle:je,data:z,updateSrc:Ne,zones:_,setZones:J}),"importance"===ue&&Object(h.jsx)(lt,{target:pe,setToggle:je,data:z,setData:B,zones:_,setZones:J,radius:4,setProj:l}),"connection"===ue&&Object(h.jsx)(st,{target:ve,setToggle:je,data:z,setData:B,zones:_,setZones:J}),r?Object(h.jsxs)("div",{id:"main",className:"container fullHeight",children:[Object.keys(Q.x).length?Object(h.jsx)(O,{data:z,setData:B,updateSrc:Ne,zones:_,setZones:J,radius:4,info:xe,setInfo:he,setInflectTarget:fe,showLabel:ae,activeLayer:I,toggle:ue,setToggle:je,scales:Q,setScales:$,syntacticOrder:ve,setSyntacticOrder:Se,activeScale:le}):Object(h.jsx)(ot,{setToggle:je}),p.imgs.length>0&&Object(h.jsx)(m,{urls:p.imgs})]}):Object(h.jsx)(it,{setProj:l,setFileName:b,setToggle:je})]})},jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,154)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(ut,{})}),document.getElementById("root")),jt()}},[[153,1,2]]]);
//# sourceMappingURL=main.f0e60f95.chunk.js.map