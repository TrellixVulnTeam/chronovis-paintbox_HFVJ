(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{147:function(e,t,a){},148:function(e){e.exports=JSON.parse("{}")},149:function(e){e.exports=JSON.parse("{}")},153:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(35),l=a.n(r),s=a(7),i=a(2),o=a(6),u=a(3),j=(a(147),a(148),a(36)),b=(a(149),a(5)),d=a(37),x=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new d.a((function(e){e.forEach((function(e){r(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),c};var h=function(e){var t=[];return Object.entries(e).forEach((function(a){a[0];var n=a[1];n.target&&n.target.forEach((function(c){var r=[c,e[c]];r[1]&&t.push({source:a,target:r,text:n.intervalText,color:n.intervalColor?n.intervalColor:n.color?n.color:null,width:n.intervalWidth,opacity:n.intervalOpacity?n.intervalOpacity:null,dashed:n.intervalDashed})}))})),t},O=a(0);var m=function(e){var t=e.data,a=e.setData,c=e.updateSrc,r=e.activeLayer,l=e.zones,j=(e.setZones,e.radius),d=(e.info,e.setInfo),m=e.setInflectTarget,p=e.showLabel,f=e.toggle,y=e.setToggle,g=e.scales,v=(e.setScales,e.syntacticOrder),S=e.setSyntacticOrder,N=e.activeScale,w=Object.entries(t),C=Object.entries(l),k=t.length?isNaN(t[0].x):null,E=Object(n.useRef)(),T=Object(n.useRef)(),M=x(T),P=Object(n.useState)(),V=Object(i.a)(P,2),D=V[0],F=V[1],I={};Object(n.useEffect)((function(){if(M){var e,t=[],a=Object(o.a)(w);try{for(a.s();!(e=a.n()).done;){e.value;t.push(w.y)}}catch(n){a.e(n)}finally{a.f()}Object.entries(g.y).forEach((function(e){var a=Object(i.a)(e,2),n=a[0],c=a[1];I[n]={scale:Object(b.h)().domain([0,M.height]).range([c.min,c.max]),drag:Object(b.h)().domain([-M.height,M.height]).range([-(c.max-c.min),c.max-c.min]),ticks:Object(s.a)(new Set(t))}}))}}),[M,g,D]);var L=h(t);return Object(n.useEffect)((function(){var e=Object(b.j)(E.current);if(M){e.selectAll(".remove").remove();var n=Object(b.i)(["before","now","after"],[-1,0,1]).unknown(0),r=(Object(b.g)(w.map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1].x);return k?n(a):a}))),Object(b.f)(w.map((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1].x);return k?n(a):a}))),w.map((function(e){return Object(i.a)(e,2)[1].y}))),l=g.y[N[1]].min,o=g.y[N[1]].max,x=o-l,h=function(e){return Object(b.h)().domain([0,M.width]).range([e.min,e.max])},O=Object.fromEntries(Object.entries(g.x).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return[a,{scale:Object(b.h)().domain([n.min,n.max]).range([0,M.width]),noBeginning:n.min-10,noEnd:n.max+10,hasSegments:!!n.segments.length,hideLabel:n.hideLabel,yPos:n.yPos,label:"".concat(a," (").concat(n.units,")"),tickValues:n.tickValues?n.tickValues:null,scaleInverse:Object(b.h)().domain([0,M.width]).range([n.min,n.max])}]})));D&&Object.entries(O).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],c=D.rescaleX(n.scale);c.domain()[0],c.domain()[1];O[a].scale=c}));var T=Object(b.h)().domain([l,o]).range([M.height,0]),P=Object(b.h)().domain([0,M.height]).range([l,o]),V=Object(b.h)().domain([M.height,-M.height]).range([-x,x]);C.length&&e.selectAll(".zones").data(C).join("rect").attr("class","zones").attr("x",(function(e){var t=Object(i.a)(e,2)[1];return O[t.scale[0]].scale(t.start)})).attr("y",(function(e){Object(i.a)(e,2)[1];return T(o)})).attr("width",(function(e){var t=Object(i.a)(e,2)[1];return O[t.scale[0]].scale(t.end)-O[t.scale[0]].scale(t.start)})).attr("height",(function(e){Object(i.a)(e,2)[1];return T(l)})).attr("opacity",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.opacity?a.opacity:.5})).attr("fill",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.color?a.color:"#999"})).attr("stroke","black").attr("stroke-width",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return a.importance?2*a.importance:0})).on("click",(function(e,t){"certainty"===f||"importance"===f?m(t):(d(null),d({position:[e.x,e.y],target:t,type:"zone"})),e.stopPropagation()})),function(){var e=[];return Object.keys(g.x).forEach((function(t,a){var n=g.x[t];n.segments.length&&n.segments.map((function(a){var c=a.min?a.min:n.min,r=a.max?a.max:n.max;e.push({scale:t,yPos:n.yPos,proportion:(r-c)/(n.max-n.min),segment:Object(b.h)().domain([c,r]).range([O[t].scale(c),O[t].scale(r)])})}))})),e}().forEach((function(t){var a=Object(b.a)(t.segment).ticks(null,"f").tickSize(-M.height);e.append("g").attr("class","remove").style("transform","translateY(".concat(M.height*t.yPos,"px)")).call(a).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.25)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",(function(e,a){return t.proportion<.25&&a%3||t.proportion<.33&&a%2?0:.5}))}))})),Object.entries(O).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(b.a)(c.scale).tickValues(c.scale.ticks().concat(g.x[n].min,g.x[n].max)).tickFormat(Object(b.d)("")).tickSize(-M.height);c.hasSegments||e.append("g").attr("class","remove").style("transform","translateY(".concat(M.height*c.yPos,"px)")).call(r).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.25)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",.5)})),c.hideUnits||e.append("text").text(c.label).attr("class","axisLabel smallTxt remove").attr("x",M.width/2).attr("y",M.height*(c.yPos+.07)).attr("text-anchor","middle").attr("opacity",.5)}));var I=Object(b.b)(T).tickValues([].concat(Object(s.a)(new Set(r)),[g.y[N[1]].min,g.y[N[1]].max])).tickFormat(Object(b.d)(""));e.append("g").attr("class","remove").call(I).raise().call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick line").attr("stroke-opacity",.5)})).call((function(e){return e.selectAll(".tick text").attr("y",10).attr("opacity",.5)})),g.y[N[1]].hideLabels||e.append("text").text("".concat(N[1]," (").concat(g.y[N[1]].units,")")).attr("class","axisLabel smallTxt remove").attr("text-anchor","middle").attr("transform","translate(-30,".concat(M.height/2,")rotate(-90)")).attr("opacity",.5);var A=Object(b.c)().on("drag",(function(e){var n,c=(n=O[e.subject[1].scale[0]].scale,Object(b.h)().domain([-M.width,M.width]).range([-(n.domain()[1]-n.domain()[0]),n.domain()[1]-n.domain()[0]]))(e.dx),r=V(e.dy),l=Object(u.a)({},t);l[e.subject[0]].x+=c,l[e.subject[0]].y+=r,a(l)})).on("end",(function(e){console.log("end")}));if(Object.entries(t).length){var Z=Object(b.e)().source((function(e){return e.source[1]})).target((function(e){return e.target[1]})).x((function(e){return isNaN(e.x)?"noEnd"===e.x?O[e.scale[0]].noEnd:"noBeginning"===e.x?O[e.scale[0]].noBeginning:void 0:O[e.scale[0]].scale(e.x)})).y((function(e){return T(e.y)}));e.selectAll(".interval").data(L).join("path").raise().attr("class","interval pointer").attr("d",Z).attr("fill","none").attr("stroke",(function(e){return e.color?e.color:"black"})).attr("stroke-width",(function(e){return e.width?e.width:j})).attr("stroke-opacity",(function(e){return e.opacity?e.opacity:1})).attr("stroke-dasharray",(function(e){return e.dashed?e.dashed:null})).on("click",(function(e,t){if("connection"===f){var a=Object(s.a)(v);0===a[2]?(a[1]={x:h(g.x[N[0]])(e.layerX),y:P(e.layerY),scale:N},a[2]=1):(a[0]={x:h(g.x[N[0]])(e.layerX),y:P(e.layerY),scale:N},a[2]=0),S(a)}else"certainty"===f||"importance"===f?m(t):(d(null),d({position:[e.x,e.y],target:t,type:"interval"}));e.stopPropagation()})),e.selectAll(".instant").data(w).join("circle").raise().attr("class","instant pointer").attr("r",(function(e){var t=Object(i.a)(e,2)[1];return t.radius?t.radius:j})).attr("fill",(function(e){var t=Object(i.a)(e,2)[1];return t.color?t.color:"black"})).attr("opacity",(function(e){var t=Object(i.a)(e,2)[1];return t.opacity?t.opacity:1})).attr("cx",(function(e){var t=Object(i.a)(e,2)[1];return isNaN(t.x)?"noBeginning"===t.x?O[t.scale[0]].noBeginning:"noEnd"===t.x?O[t.scale[0]].noEnd:void 0:O[t.scale[0]].scale(t.x)})).attr("cy",(function(e){var t=Object(i.a)(e,2)[1];return T(t.y)})).call(A).on("click",(function(e,n){switch(f){case"cancelled":var r=Object(u.a)({},t);r[n[0]].cancelled=!0,c(r);break;case"connection":var l=Object(s.a)(v);0===l[2]?(l[1]=n,l[2]=1):(l[0]=n,l[2]=0),S(l);break;case"foreshadowing":if(n.target)console.log("forbidden");else{var i=Object(s.a)(t);i.find((function(e){return e.id===n.id})).foreshadowing=!0,a(i)}break;case"certainty":case"importance":m(n);break;default:d(null),d({position:[e.x,e.y],target:n})}e.stopPropagation()}));var q={draw:function(e,t){var a=Math.sqrt(t)/2;e.moveTo(a,0),e.lineTo(2*a,a),e.lineTo(a,2*a),e.lineTo(0,a),e.lineTo(-a,2*a),e.lineTo(2*-a,a),e.lineTo(-a,0),e.lineTo(2*-a,-a),e.lineTo(-a,2*-a),e.lineTo(0,-a),e.lineTo(a,2*-a),e.lineTo(2*a,-a),e.closePath()}};e.selectAll(".cancelled").data(w.filter((function(e){return Object(i.a)(e,2)[1].cancelled}))).join("path").raise().attr("class","cancelled pointer").attr("d",Object(b.k)(q,j*j*5)).attr("fill",(function(e){var t=Object(i.a)(e,2)[1];return t.color?t.color:"black"})).attr("transform",(function(e){var t=Object(i.a)(e,2)[1];return"translate(".concat(O[t.scale[0]].scale(t.x),", ").concat(T(t.y),")")})).on("click",(function(e,a){if("cancelled"===f){var n=Object(u.a)({},t);n[a[0]].cancelled=!1,c(n)}else d({position:[e.x,e.y],target:a});e.stopPropagation()})),e.selectAll(".label").data(w.filter((function(e){var t=Object(i.a)(e,2)[1];return!isNaN(t.x)}))).join("text").attr("class","label").text((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return p?a.text:a.id})).attr("x",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return O[a.scale[0]].scale(a.x)})).attr("y",(function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);return T(a.y-.05*x)})).attr("text-anchor","middle"),e.selectAll(".intervalLabel").data(L).join("text").attr("class","intervalLabel").text((function(e){return e.text})).attr("x",(function(e){var t=e.source[1],a=e.target[1];return isNaN(t.x)||isNaN(a.x)?isNaN(t.x)?(("noBeginning"===t.x?O[t.scale[0]].noBeginning:O[t.scale[0]].noEnd)+O[a.scale[0]].scale(a.x))/2:isNaN(a.x)?(("noBeginning"===a.x?O[a.scale[0]].noBeginning:O[a.scale[0]].noEnd)+O[t.scale[0]].scale(t.x))/2:void 0:(O[t.scale[0]].scale(t.x)+O[a.scale[0]].scale(a.x))/2})).attr("y",(function(e){return T(Math.min(e.source[1].y,e.target[1].y)-.05*x)})).attr("text-anchor","middle")}var R=Object(b.l)().scaleExtent([1,5]).translateExtent([[-50,0],[M.width+50,M.height]]).on("zoom",(function(e){var t=e.transform;F(t)}));e.on("click",(function(e){if("addInstant"===f){var t=O[N[0]].scale.domain()[1]-O[N[0]].scale.domain()[0],a=O[N[0]].scale.invert(e.layerX),n=T.invert(e.layerY);m({x:U(a,t),y:Math.round(n)}),y("NewInstantForm")}d(null)})),e.call(R)}function U(e,t){var a=Math.log10(t)<1?-Math.floor(Math.log10(t)-1):0;return Math.round(e*Math.pow(10,a))/Math.pow(10,a)}}),[t,a,l,g,f,r,w,M,k,D,d,j,p,v]),Object(O.jsx)("div",{ref:T,className:"svgWrapper",children:Object(O.jsx)("svg",{id:"graphic",ref:E})})},p=function(e){return Object(O.jsx)("img",{src:"/library/".concat(e.urls),alt:"schema-1"})},f=a(4),y=a(38),g=a(39),v=a(12),S=a(40),N=a(43),w=function(e){var t=e.scales,a=e.label,n=e.name,c=e.value,r=e.onChange,l=Object.keys(t).map((function(e,t){return Object(O.jsx)("option",{value:e,children:e},t)}));return Object(O.jsxs)("label",{className:"textSecondary",children:[a,Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("select",{name:n,value:c,onChange:r,children:l})]})},C=function(e){Object(S.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={label:"",xValue:e.target.x,yValue:e.target.y,xScale:e.activeScale[0],yScale:e.activeScale[1],color:"",opacity:"",radius:""},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleClose=n.handleClose.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(g.a)(a,[{key:"handleChange",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(f.a)({},a,t))}},{key:"handleClose",value:function(e){this.props.setToggle(null),e.preventDefault()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=Object(u.a)({},this.props.data),a=Object.keys(t).pop()?parseInt(Object.keys(t).pop()):-1,n=t[a],c=parseFloat(this.state.xValue),r=this.state.yValue?parseFloat(this.state.yValue):null;isNaN(c)&&isNaN(r)?alert("Make sure Time and y Position are numbers!"):isNaN(c)?alert("Make sure Time is a number!"):isNaN(r)?alert("Make sure y Position is a number!"):t["".concat(a+1)]=Object(u.a)(Object(u.a)(Object(u.a)({x:c,y:this.state.yValue?r:n?n.y:0,scale:[this.state.xScale,this.state.yScale],target:null,text:this.state.label},this.state.color&&{color:this.state.color}),this.state.radius&&{radius:this.state.radius}),this.state.opacity&&{opacity:this.state.opacity}),this.props.updateSrc(t)}},{key:"render",value:function(){return Object(O.jsxs)("form",{className:"ui absolute center container",children:[Object(O.jsxs)("label",{children:["Label",Object(O.jsx)("input",{type:"text",name:"label",placeholder:"any unicode characters",value:this.state.label,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{scales:this.props.scales.x,label:"X Scale",name:"xScale",value:this.state.xScale,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Time",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"number",name:"xValue",placeholder:"numbers only",value:this.state.xValue,onChange:this.handleChange,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{scales:this.props.scales.y,label:"Y Scale",name:"yScale",value:this.state.yScale,onChange:this.handleChange}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["y Position",Object(O.jsx)("input",{type:"number",name:"yValue",placeholder:"#s only (default 0)",value:this.state.yValue,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Color",Object(O.jsx)("input",{type:"text",name:"color",placeholder:"blue, #4DA6FF, etc.",value:this.state.color,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Opacity",Object(O.jsx)("input",{type:"number",name:"opacity",placeholder:"1",value:this.state.opacity,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Radius",Object(O.jsx)("input",{type:"number",name:"radius",placeholder:"5",value:this.state.radius,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flexCenter",children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:this.handleClose,children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:this.handleSubmit,children:"Submit"})]})]})}}]),a}(c.a.Component),k=function(e){var t=e.label,a=e.name,n=e.placeholder,c=e.value,r=e.handleChange,l=e.required;return Object(O.jsxs)("label",{className:"textSecondary",children:[t," ",l&&Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:n||"any unicode characters",name:a,value:c,onChange:r,required:l})]})},E=function(e){var t=e.label,a=e.name,n=e.value,c=e.placeholder,r=e.handleChange,l=e.required;return Object(O.jsxs)("label",{className:"textSecondary",children:[t," ",l&&Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:c||"Any real number",name:a,value:n,onChange:r,required:l})]})};var T=function(e){var t=e.data,a=e.updateSrc,c=e.setToggle,r=e.scales,l=e.activeScale,s=(e.history,e.setHistory,Object(n.useState)({text:"",xValue1:"",yValue1:"",xValue2:"",yValue2:"",xScale:l[0],yScale:l[1],color:"",opacity:"",width:""})),o=Object(i.a)(s,2),j=o[0],b=o[1],d=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;b(Object(u.a)(Object(u.a)({},j),{},Object(f.a)({},n,a)))};return Object(O.jsxs)("form",{className:"ui absolute center container",children:[Object(O.jsxs)("label",{children:["Label",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",name:"text",placeholder:"any unicode character",value:j.text,onChange:d})]}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{scales:r.x,label:"X Scale",name:"xSelect",value:j.xSelect,onChange:d}),Object(O.jsx)(w,{scales:r.y,label:"Y Scale",name:"ySelect",value:j.ySelect,onChange:d}),Object(O.jsx)("b",{children:"Start:"}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Time",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",name:"xValue1",placeholder:"numbers only",value:j.xValue1,onChange:d,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["y Position",Object(O.jsx)("input",{type:"text",name:"yValue1",placeholder:"#s only (default 0)",value:j.yValue1,onChange:d})]}),Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"End:"}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Time",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",name:"xValue2",placeholder:"numbers only",value:j.xValue2,onChange:d,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["y Position",Object(O.jsx)("input",{type:"text",placeholder:"#s only (default 0)",name:"yValue2",value:j.yValue2,onChange:d})]}),Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:"Properties:"}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Color",Object(O.jsx)("input",{type:"text",placeholder:"blue, #4DA6FF, etc.",name:"color",value:j.color,onChange:d})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Width",Object(O.jsx)("input",{type:"number",name:"width",placeholder:"1.67",value:j.width,onChange:d})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Certainty",Object(O.jsx)("input",{type:"number",placeholder:"0-1",name:"opacity",value:j.opacity,onChange:d})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flexCenter",children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t),c=Object.keys(n).pop()?parseInt(Object.keys(n).pop()):-1,r=n[c],l=parseFloat(j.xValue1),s=j.yValue1?parseFloat(j.yValue1):null,i=parseFloat(j.xValue2),o=j.yValue2?parseFloat(j.yValue2):null;isNaN(l)||isNaN(s)||isNaN(i)||isNaN(o)?alert("Make sure all Times and y Positions are numbers!"):(n["".concat(c+1)]=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({text:"",x:l,y:j.yValue1?s:r?r.y:0,scale:[j.xScale,j.yScale],target:["".concat(c+2)]},j.text&&{intervalText:j.text}),j.color&&{intervalColor:j.color}),j.width&&{intervalWidth:j.width}),j.opacity&&{intervalOpacity:j.opacity}),n["".concat(c+2)]={text:"",x:i,y:j.yValue2?o:r?r.y:0,scale:[j.xScale,j.yScale],target:null}),a(n)},children:"Submit"})]})]})};var M=function(e){var t=e.zones,a=e.updateSrc,c=e.setToggle,r=e.scales,l=e.activeScale,s=Object(n.useState)({text:"",xScale:l[0],yScale:l[1],start:"",end:"",yValue2:"",yStart:"",yEnd:"",color:"",opacity:""}),o=Object(i.a)(s,2),j=o[0],b=o[1],d=Object(n.useState)(""),x=Object(i.a)(d,2),h=(x[0],x[1],Object(n.useState)("")),m=Object(i.a)(h,2),p=(m[0],m[1],Object(n.useState)("")),y=Object(i.a)(p,2),g=(y[0],y[1],Object(n.useState)(l)),v=Object(i.a)(g,2),S=(v[0],v[1],Object.keys(r).map((function(e,t){return Object(O.jsx)("option",{value:e,children:e},t)})),Object(n.useState)("")),N=Object(i.a)(S,2),C=(N[0],N[1],Object(n.useState)("")),k=Object(i.a)(C,2),E=(k[0],k[1],Object(n.useState)("")),T=Object(i.a)(E,2),M=(T[0],T[1],Object(n.useState)("")),P=Object(i.a)(M,2),V=(P[0],P[1],function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;b(Object(u.a)(Object(u.a)({},j),{},Object(f.a)({},n,a)))});return Object(O.jsxs)("form",{className:"ui absolute center container",children:[Object(O.jsxs)("label",{children:["Label",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"any unicode characters",name:"text",value:j.text,onChange:V,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{scales:r.x,label:"X Scale",name:"xScale",value:j.xScale,onChange:V}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{scales:r.y,label:"Y Scale",name:"yScale",value:j.yScale,onChange:V}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Time Start",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"#s, dates, logical operators",name:"start",value:j.start,onChange:V,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Time End",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"#s, dates, logical operators",name:"end",value:j.end,onChange:V,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Color",Object(O.jsx)("input",{type:"text",name:"color",placeholder:"blue, #4DA6FF, etc.",value:j.color,onChange:V})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Opacity",Object(O.jsx)("input",{type:"number",placeholder:"0 (transparent) - 1 (opaque)",name:"opacity",value:j.opacity,onChange:V})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flexCenter",children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){var n=Object(u.a)({},t),c=Object.keys(n).pop()?parseInt(Object.keys(n).pop()):-1;n["".concat(c+1)]=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({text:j.text,start:parseFloat(j.start),end:parseFloat(j.end),scale:[j.xScale,j.yScale]},j.yStart&&{yStart:j.yStart}),j.yEnd&&{yEnd:j.yEnd}),j.color&&{color:j.color}),j.opacity&&{opacity:j.opacity}),a(n,"zones"),e.preventDefault()},children:"Submit"})]})]})};var P=function(e){var t=e.src,a=e.updateSrc,c=e.setToggle,r=e.setActiveScale,l=Object(n.useState)({xName:"",xMin:"",xMax:"",xUnits:"",xYPos:"",xTickValues:"",xHideUnits:!1,xSegmentsNum:0,yName:"",yMin:"",yMax:"",yUnits:"",yPercent:"",yHideUnits:!1}),s=Object(i.a)(l,2),o=s[0],j=s[1],b=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;j(Object(u.a)(Object(u.a)({},o),{},Object(f.a)({},n,a)))};return Object(O.jsxs)("form",{className:"ui absolute center container",children:[Object(O.jsx)("span",{className:"textSecondary",children:Object(O.jsx)("b",{children:"x scale"})}),Object(O.jsx)("br",{}),Object(O.jsx)(k,{label:"Name",name:"xName",value:o.xName,handleChange:b,required:!0}),Object(O.jsx)(k,{label:"Units Label",name:"xUnits",placeholder:"ie: Years",value:o.xUnits,handleChange:b,required:!0}),Object(O.jsx)(E,{label:"Minimum Value",name:"xMin",placeholder:"#s for now",value:o.xMin,handleChange:b,required:!0}),Object(O.jsx)(E,{label:"Maximum Value",name:"xMax",placeholder:"#s for now",value:o.xMax,handleChange:b,required:!0}),Object(O.jsx)(E,{label:"Screen Position",name:"xYPos",placeholder:"0 (top) - 1 (bottom)",value:o.xYPos,handleChange:b,required:!0}),Object(O.jsxs)("label",{className:"textSecondary",children:["Segments",Object(O.jsx)("input",{type:"number",placeholder:"granularities within scale",name:"xSegmentsNum",value:o.xSegmentsNum,onChange:b})]}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"textSecondary",children:Object(O.jsx)("b",{children:"y scale"})}),Object(O.jsx)("br",{}),Object(O.jsx)(k,{label:"Name",name:"yName",value:o.yName,handleChange:b,required:!0}),Object(O.jsx)(k,{label:"Units Label",name:"yUnits",placeholder:"ie: Years",value:o.yUnits,handleChange:b,required:!0}),Object(O.jsx)(E,{label:"Minimum Value",name:"yMin",placeholder:"#s for now",value:o.yMin,handleChange:b,required:!0}),Object(O.jsx)(E,{label:"Maximum Value",name:"yMax",placeholder:"#s for now",value:o.yMax,handleChange:b,required:!0}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flexCenter",children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},t.scales),l=parseFloat(o.xMin),s=parseFloat(o.xMax),i=parseFloat(o.xYPos),j=parseFloat(o.yMin),b=parseFloat(o.yMax);l>=s?alert("Minimum Value must be less than or equal to Maximum Value!"):i>1?alert("Vertical Position must be between 0 (top) and 1 (bottom)!"):(n.x[o.xName]={min:l,max:s,units:o.xUnits,yPos:i,segments:[]},n.y[o.yName]=Object(u.a)({min:j,max:b,units:o.yUnits},o.yPercent&&{percent:o.yPercent}),a(n,"scales"),r([o.xName,o.yName]),c(null))},children:"Submit"})]})]})};var V=function(e){var t=e.scales,a=e.updateSrc,c=e.setToggle,r=e.activeScale,l=e.setActiveScale,s=t.x[r[0]],o=t.y[r[1]],j=Object(n.useState)({xSelect:r[0],xMin:s.min,xMax:s.max,xUnits:s.units,xYPos:s.yPos,xTickValues:s.tickValues,xHideUnits:s.hideUnits,xSegmentsNum:s.segments.length,ySelect:r[1],yMin:o.min,yMax:o.max,yUnits:o.units,yPercent:o.percent,yHideUnits:o.hideUnits}),b=Object(i.a)(j,2),d=b[0],x=b[1],h=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;x(Object(u.a)(Object(u.a)({},d),{},Object(f.a)({},n,a)))};return Object(O.jsxs)("form",{className:"ui absolute center container",children:[Object(O.jsx)(w,{scales:t.x,label:"X Scale",name:"xSelect",value:d.xSelect,onChange:h}),Object(O.jsx)(E,{label:"Minimum Value",name:"xMin",placeholder:"#s for now",value:d.xMin,handleChange:h,required:!0}),Object(O.jsx)(E,{label:"Maximum Value",name:"xMax",placeholder:"#s for now",value:d.xMax,handleChange:h,required:!0}),Object(O.jsx)(k,{label:"Units Label",name:"xUnits",placeholder:"ie: Years",value:d.xUnits,handleChange:h,required:!0}),Object(O.jsxs)("label",{className:"textSecondary",children:["Screen Position",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"0 (top) - 1 (bottom)",name:"xYPos",value:d.xYPos,onChange:h,required:!0})]}),Object(O.jsxs)("label",{className:"textSecondary",children:["Segments",Object(O.jsx)("input",{type:"number",placeholder:"granularities within scale",name:"xSegmentsNum",value:d.xSegmentsNum,onChange:h})]}),Object(O.jsx)("br",{}),Object(O.jsx)(w,{scales:t.y,label:"Y Scale",name:"ySelect",value:d.ySelect,onChange:h}),Object(O.jsxs)("label",{className:"textSecondary",children:["Minimum Value",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"#s for now",name:"yMin",value:d.yMin,onChange:h,required:!0})]}),Object(O.jsxs)("label",{className:"textSecondary",children:["Maximum Value",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"#s for now",name:"yMax",value:d.yMax,onChange:h,required:!0})]}),Object(O.jsxs)("label",{className:"textSecondary",children:["Units Label",Object(O.jsx)("span",{className:"redText",children:"* "}),Object(O.jsx)("input",{type:"text",placeholder:"ie: Years",name:"yUnits",value:d.yUnits,onChange:h,required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"flexCenter",children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){c(null),e.preventDefault()},children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){var n=Object(u.a)({},t);n.x[d.xSelect]={min:parseFloat(d.xMin),max:parseFloat(d.xMax),units:d.xUnits,yPos:parseFloat(d.xYPos),segments:[]},n.y[d.ySelect]=Object(u.a)({min:parseFloat(d.yMin),max:parseFloat(d.yMax),units:d.yUnits},d.yPercent&&{percent:d.yPercent}),a(n,"scales"),l([d.xSelect,d.ySelect]),c(null),e.preventDefault()},children:"Submit"})]})]})};var D=function(e,t,a){var n=Object(u.a)({},t);Object.entries(n).map((function(e){var t=Object(i.a)(e,2);t[0];return t[1]})).forEach((function(t){t.target&&t.target.includes(e[0])&&(t.target.length>1?t.target=t.target.filter((function(t){return t!==e[0]})):t.target=null)})),delete n[e[0]],a(n)};var F,I=function(e,t,a){var n=Object(u.a)({},t),c=e.source[0],r=e.target[0];Object.entries(n).map((function(e){var t=Object(i.a)(e,2);t[0];return t[1]})).forEach((function(e){e.target&&(e.target.includes(c)||e.target.includes(r))&&(e.target.length>1?e.target=e.target.filter((function(e){return e!==c&&e!==r})):e.target=null)})),delete n[c],delete n[r],a(n)},L=["title","titleId"];function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function q(e,t){var a=e.title,c=e.titleId,r=Z(e,L);return n.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.54 17.54",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,F||(F=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"working_layer","data-name":"working layer"},n.createElement("path",{d:"M17.4,3.06,14.48.15a.5.5,0,0,0-.71,0L1.14,12.78A.48.48,0,0,0,1,13L0,16.92a.48.48,0,0,0,.13.48.5.5,0,0,0,.35.14H.62l3.92-1a.59.59,0,0,0,.23-.13L17.4,3.77a.5.5,0,0,0,.14-.35A.52.52,0,0,0,17.4,3.06ZM4.16,15.6l-3,.75.76-3L12.47,2.86l2.21,2.21ZM15.39,4.36,13.18,2.15l1-.94,2.21,2.21Z"})))))}var R=n.forwardRef(q);a.p;var U=function(e){return e.editMode?Object(O.jsx)("input",{name:e.name,type:e.inputType,placeholder:e.placeholder,value:e.value,onChange:function(t){return e.handleChange(t)},required:e.required}):e.value?Object(O.jsx)(O.Fragment,{children:e.value}):Object(O.jsx)("span",{className:"textSecondary",children:e.nullValue})};var Y=function(e){var t=e.info,a=e.setInfo,c=(e.history,e.setHistory,e.data),r=e.zones,l=e.updateSrc,s=e.radius,o=null,j=Array.isArray(t.target)?t.target[1]:t.target,b=Object(n.useState)(!1),d=Object(i.a)(b,2),x=d[0],h=d[1],m={time:j.x,yPos:j.y,radius:j.radius,sourceX:j.source?j.source[1].x:null,sourceY:j.source?j.source[1].y:null,targetX:j.source?j.target[1].x:null,targetY:j.source?j.target[1].y:null,timeStart:j.start,timeEnd:j.end,yStart:j.yStart,yEnd:j.yEnd,text:j.text,color:j.color,opacity:j.opacity,width:j.width,importance:j.importance};Object.entries(m).forEach((function(e){e[1]||(m[e[0]]="")}));var p=Object(n.useState)(m),y=Object(i.a)(p,2),g=y[0],v=y[1],S=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;v(Object(u.a)(Object(u.a)({},g),{},Object(f.a)({},n,a)))},N=function(e){e.preventDefault(),v(m),h(!1)};switch(t.type){case"interval":o=Object(O.jsxs)("form",{className:"container",children:[Object(O.jsxs)("div",{className:"container flexRow",children:[Object(O.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(O.jsx)("br",{}),"From: \xa0",Object(O.jsx)("br",{}),"To: \xa0",Object(O.jsx)("br",{}),"Color: \xa0",Object(O.jsx)("br",{}),"Opacity: \xa0",Object(O.jsx)("br",{}),"Importance: \xa0",Object(O.jsx)("br",{}),"Width: \xa0"]}),Object(O.jsxs)("div",{className:"containerRight",children:[Object(O.jsx)(U,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"sourceX",value:g.sourceX,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),",\xa0",Object(O.jsx)(U,{name:"sourceY",value:g.sourceY,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"targetX",value:g.targetX,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),",\xa0",Object(O.jsx)(U,{name:"targetY",value:g.targetY,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"width",value:g.width,nullValue:"".concat(s),inputType:"text",placeholder:"any real number",editMode:x,handleChange:S}),Object(O.jsx)("br",{})]})]}),Object(O.jsx)("div",{className:"flexCenter",children:x?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:N,children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var t=Object(u.a)({},c),n=[g.sourceX,g.sourceY,g.targetX,g.targetY].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)})),r=t[j.source[0]];r.x=n[0],r.y=n[1],t[j.target[0]].x=n[2],t[j.target[0]].y=n[3],r.intervalColor=g.color,r.intervalWidth=g.width,r.intervalOpacity=g.opacity,r.intervalText=g.text,l(t),h(!1),a(null)},children:"Submit"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),h(!0)},children:"Edit"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),I(j,c,l),a(null)},children:"Delete Interval"})]})})]});break;case"zone":o=Object(O.jsxs)("form",{className:"container",children:[Object(O.jsxs)("div",{className:"container flexRow",children:[Object(O.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(O.jsx)("br",{}),"Time Start: \xa0",Object(O.jsx)("br",{}),"Time End: \xa0",Object(O.jsx)("br",{}),"Color: \xa0",Object(O.jsx)("br",{}),"Opacity: \xa0",Object(O.jsx)("br",{}),"Importance: \xa0"]}),Object(O.jsxs)("div",{className:"containerRight",children:[Object(O.jsx)(U,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"timeStart",value:g.timeStart,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"timeEnd",value:g.timeEnd,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(O.jsx)("br",{})]})]}),Object(O.jsx)("div",{className:"flexCenter",children:x?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:N,children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},r),c=[g.timeStart,g.timeEnd].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)}));n[t.target[0]]=Object(u.a)(Object(u.a)({},n[t.target[0]]),{},{start:c[0],end:c[1],yStart:c[2],yEnd:c[3],text:g.text,color:g.color,opacity:g.opacity,importance:g.importance}),console.log(n[t.target[0]]),l(n,"zones"),h(!1),a(null)},children:"Submit"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),h(!0)},children:"Edit"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},r);delete n[t.target[0]],l(n,"zones"),a(null)},children:"Delete Zone"})]})})]});break;default:o=Object(O.jsxs)("form",{className:"container",children:[Object(O.jsxs)("div",{className:"container flexRow",children:[Object(O.jsxs)("div",{className:"containerLeft textRight textSecondary",children:["Text: \xa0",Object(O.jsx)("br",{}),"Time: \xa0",Object(O.jsx)("br",{}),"Y Position: \xa0",Object(O.jsx)("br",{}),"Color: \xa0",Object(O.jsx)("br",{}),"Opacity: \xa0",Object(O.jsx)("br",{}),"Radius: \xa0",Object(O.jsx)("br",{}),"Importance: \xa0",Object(O.jsx)("br",{})]}),Object(O.jsxs)("div",{className:"containerRight",children:[Object(O.jsx)(U,{name:"text",value:g.text,nullValue:"n/a",inputType:"text",placeholder:"any unicode character.",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"time",value:g.time,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"yPos",value:g.yPos,nullValue:"n/a",inputType:"text",placeholder:"numbers for now",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"color",value:g.color,nullValue:"black",inputType:"text",placeholder:"blue, #4DA6FF, etc.",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"opacity",value:g.opacity,nullValue:"1",inputType:"text",placeholder:"0(clear) - 1(opaque)",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"radius",value:g.radius,nullValue:"".concat(s),inputType:"text",placeholder:"any real number",editMode:x,handleChange:S}),Object(O.jsx)("br",{}),Object(O.jsx)(U,{name:"importance",value:g.importance,nullValue:"0",inputType:"text",placeholder:"any integer",editMode:x,handleChange:S}),Object(O.jsx)("br",{})]})]}),Object(O.jsx)("div",{className:"flexCenter",children:x?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:N,children:"Cancel"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault();var n=Object(u.a)({},c),r=[g.time,g.yPos].map((function(e){return isNaN(parseFloat(e))?void alert("Please input valid times and/or Y positions!"):parseFloat(e)}));n[t.target[0]]=Object(u.a)(Object(u.a)({},n[t.target[0]]),{},{x:r[0],y:r[1],text:g.text,color:g.color,radius:g.radius,opacity:g.opacity,importance:g.importance}),l(n),h(!1),a(null)},children:"Submit"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),h(!0)},children:"Edit"})," \xa0",Object(O.jsx)("button",{className:"buttonSecondary",onClick:function(e){e.preventDefault(),D(t.target,c,l),a(null)},children:"Delete Instant"})]})})]})}return Object(O.jsx)("div",{className:"ui absolute",style:{left:t.position[0]+"px",top:t.position[1]+"px"},children:o})};var z=function(e){var t=e.src,a=e.setSrc,c=e.zones,r=e.scales,l=e.data,s=e.activeData,o=e.setToggle,j=e.fileName,b=Object(n.useState)(j),d=Object(i.a)(b,2),x=d[0],h=d[1];return Object(O.jsxs)("form",{className:"ui absolute center",onSubmit:function(e){e.preventDefault();var n=Object(u.a)({},t);n.instants[s]=l,n.zones=c,n.scales=r,a(n);var i=JSON.stringify(n),o=new Blob([i],{type:"text/plain"}),j=URL.createObjectURL(o),b=document.createElement("a");b.download="".concat(x,".json"),b.href=j,b.click()},children:[Object(O.jsx)("button",{className:"right",onClick:function(e){e.preventDefault(),o(null)},children:"x"}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["File Name ",Object(O.jsx)("span",{className:"redText",children:"* "}),":",Object(O.jsx)("input",{type:"text",value:x,onChange:function(e){return h(e.target.value)},required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Save Data"})]})};var B,H,X=function(e){var t=e.setToggle,a=e.setSrc,c=e.setScales,r=e.setData,l=e.setZones,s=e.activeData,o=e.setActiveData,u=(e.activeScale,e.setActiveScale),j=e.setFileName,b=e.setProj,d=Object(n.useState)(),x=Object(i.a)(d,2),h=x[0],m=x[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),y=f[0],g=f[1];return Object(O.jsxs)("form",{className:"ui absolute center",onSubmit:function(e){e.preventDefault();var n=new FileReader;n.readAsText(h),n.onload=function(){var e=JSON.parse(n.result);j(h.name.replace(".json","")),a(e),c(e.scales),u([Object.keys(e.scales.x)[0],Object.keys(e.scales.y)[0]]),o(0),r(e.instants[s]),l(e.zones)},n.onerror=function(){console.log(n.error)},b(!0),t(null)},children:[Object(O.jsx)("button",{className:"right uiButton closeButton",onClick:function(e){t(null),e.preventDefault()},children:"x"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"file",name:"data",onChange:function(e){m(e.target.files[0]),g(!0),e.preventDefault()}}),Object(O.jsx)("br",{}),y?Object(O.jsxs)("p",{children:["File name: ",h.name,Object(O.jsx)("br",{}),"File type: ",h.type,Object(O.jsx)("br",{}),"Size: ",h.size/1e3," KB"]}):Object(O.jsx)("p",{children:"Select a file to show details"}),Object(O.jsx)("input",{className:"uiButton",type:"submit",value:"Upload"})]})},W=["title","titleId"];function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function G(e,t){var a=e.title,c=e.titleId,r=J(e,W);return n.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,B||(B=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),H||(H=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M28.46,31.33h-14a1,1,0,0,1-1-1V12.59a1,1,0,0,1,1-1h8.3l.12,0h0a1,1,0,0,1,.45.28h0l5.87,6.55h0a1.1,1.1,0,0,1,.23.44h0s0,.09,0,.14h0V30.33A1,1,0,0,1,28.46,31.33Zm-13-2h12V20.14H22.58a1,1,0,0,1-1-1V13.59H15.45Zm8.13-11.19h2.64L23.58,15.2Z"})))))}var K,Q,$=n.forwardRef(G),ee=(a.p,["title","titleId"]);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ne(e,t){var a=e.title,c=e.titleId,r=ae(e,ee);return n.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,K||(K=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),Q||(Q=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("circle",{cx:21.46,cy:21.46,r:2.97})))))}var ce,re,le=n.forwardRef(ne),se=(a.p,["title","titleId"]);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ue(e,t){var a=e.title,c=e.titleId,r=oe(e,se);return n.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,ce||(ce=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),re||(re=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M31.88,22.46H11a1,1,0,0,1,0-2H31.88a1,1,0,1,1,0,2Z"})))))}var je,be,de=n.forwardRef(ue),xe=(a.p,["title","titleId"]);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function me(e,t){var a=e.title,c=e.titleId,r=Oe(e,xe);return n.createElement("svg",he({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,je||(je=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),be||(be=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M32.75,11.83H10.17a1,1,0,0,0-1,1V30.08a1,1,0,0,0,1,1H32.75a1,1,0,0,0,1-1V12.83A1,1,0,0,0,32.75,11.83Zm-7,17.25,6-7v2.57L28,29.08Zm-4.85,0L31.75,16.49v2.56l-8.63,10Zm-4.84,0L29.19,13.83h2.2L18.28,29.08Zm-4.84,0L24.35,13.83h2.2L13.43,29.08Zm5.63-15.25-5.69,6.63V17.9l3.49-4.07Zm-5.69,9.7,8.33-9.7h2.21L11.17,26.09Zm.85-9.7-.85,1v-1ZM30.6,29.08l1.15-1.34v1.34Z"})))))}var pe,fe,ye=n.forwardRef(me),ge=(a.p,["title","titleId"]);function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Ne(e,t){var a=e.title,c=e.titleId,r=Se(e,ge);return n.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,pe||(pe=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),fe||(fe=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M14.27,16.77H28.64a1,1,0,0,0,0-2H14.27a1,1,0,0,0,0,2Z"}),n.createElement("path",{d:"M28.64,20.27H14.27a1,1,0,0,0,0,2H28.64a1,1,0,0,0,0-2Z"}),n.createElement("path",{d:"M28.64,25.78H14.27a1,1,0,1,0,0,2H28.64a1,1,0,0,0,0-2Z"})))))}var we,Ce,ke=n.forwardRef(Ne),Ee=(a.p,["title","titleId"]);function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Pe(e,t){var a=e.title,c=e.titleId,r=Me(e,Ee);return n.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,we||(we=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),Ce||(Ce=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M27.89,31.63H18.46a2.73,2.73,0,0,1-2.3-1l-.26-.34-.85-1.08c-2.16-2.74-4-5.1-2.78-6.7a2.33,2.33,0,0,1,1.86-1h0a3.44,3.44,0,0,1,2.17,1V15.35a2.52,2.52,0,0,1,2.59-2.43,2.74,2.74,0,0,1,.7.09,2.57,2.57,0,0,1,2.47-1.73,2.68,2.68,0,0,1,2,.86,2.68,2.68,0,0,1,1.2-.28,2.56,2.56,0,0,1,2.53,1.91,3,3,0,0,1,.68-.08A2.52,2.52,0,0,1,31,16.12V28.66A3.07,3.07,0,0,1,27.89,31.63Zm-13.76-8.1c-.09,0-.22.17-.28.24-.1.6,1.77,3,2.77,4.22l.87,1.11.26.34c.06.09.29.19.71.19h9.43a1.08,1.08,0,0,0,1.15-1V16.12c0-.23-.27-.43-.59-.43s-.59.2-.59.43v5a1,1,0,0,1-1,1,1,1,0,0,1-1-1V14.29c0-.23-.27-.43-.59-.43s-.58.2-.58.43v6.82a1,1,0,0,1-2,0V13.72c0-.24-.27-.44-.59-.44s-.59.2-.59.44v7.39a1,1,0,0,1-2,0V15.35c0-.23-.26-.43-.58-.43s-.59.2-.59.43V24.8a.57.57,0,0,1,0,.13v.2a1,1,0,0,1-1.79.61c-1.62-2.1-2.28-2.2-2.4-2.21Z"})))))}var Ve,De,Fe=n.forwardRef(Pe),Ie=(a.p,["title","titleId"]);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Ze(e,t){var a=e.title,c=e.titleId,r=Ae(e,Ie);return n.createElement("svg",Le({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,Ve||(Ve=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),De||(De=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M11,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,11,23.81Z"}),n.createElement("path",{d:"M16.25,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,16.25,23.81Z"}),n.createElement("path",{d:"M26.67,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,26.67,23.81Z"}),n.createElement("path",{d:"M21.46,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,21.46,23.81Z"}),n.createElement("path",{d:"M31.88,23.81a1,1,0,0,1-1-1V20.1a1,1,0,0,1,2,0v2.71A1,1,0,0,1,31.88,23.81Z"})))))}var qe,Re,Ue=n.forwardRef(Ze),Ye=(a.p,["title","titleId"]);function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function He(e,t){var a=e.title,c=e.titleId,r=Be(e,Ye);return n.createElement("svg",ze({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,qe||(qe=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),Re||(Re=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("rect",{className:"cls-1",width:42.91,height:42.91}),n.createElement("path",{d:"M31.91,21.11a12.69,12.69,0,0,0-10.45-5.73A12.7,12.7,0,0,0,11,21.11a1,1,0,0,0,0,1,12.67,12.67,0,0,0,10.46,5.73,12.67,12.67,0,0,0,10.45-5.73A1,1,0,0,0,31.91,21.11ZM21.46,25a3.36,3.36,0,1,1,3.36-3.36A3.36,3.36,0,0,1,21.46,25Zm-8.39-3.36a11.22,11.22,0,0,1,4.26-3.38,5.25,5.25,0,0,0,0,6.75A11.31,11.31,0,0,1,13.07,21.63ZM25.6,25a5.29,5.29,0,0,0,1.22-3.35,5.36,5.36,0,0,0-1.23-3.38,11.29,11.29,0,0,1,4.24,3.37A11.23,11.23,0,0,1,25.6,25Z"})))))}var Xe,We,_e=n.forwardRef(He),Je=(a.p,["title","titleId"]);function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Qe(e,t){var a=e.title,c=e.titleId,r=Ke(e,Je);return n.createElement("svg",Ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42.91 42.91",ref:t,"aria-labelledby":c},r),a?n.createElement("title",{id:c},a):null,Xe||(Xe=n.createElement("defs",null,n.createElement("style",null,".cls-1{fill:none;}"))),We||(We=n.createElement("g",{id:"Layer_2","data-name":"Layer 2"},n.createElement("g",{id:"export"},n.createElement("circle",{cx:12.18,cy:21.46,r:2.97}),n.createElement("path",{d:"M30.74,20.49a1,1,0,1,1-1,1,1,1,0,0,1,1-1m0-2a3,3,0,1,0,3,3,3,3,0,0,0-3-3Z"}),n.createElement("path",{d:"M30.74,16.7a1,1,0,0,1-.74-.32A9.47,9.47,0,0,0,28.26,15,1,1,0,0,1,28,13.62a1,1,0,0,1,1.38-.31A11.87,11.87,0,0,1,31.48,15a1,1,0,0,1-.07,1.41A1,1,0,0,1,30.74,16.7Z"}),n.createElement("path",{d:"M25.21,13.56a1.26,1.26,0,0,1-.27,0,12.23,12.23,0,0,0-1.82-.37A1,1,0,0,1,22.26,12a1,1,0,0,1,1.12-.86,15,15,0,0,1,2.1.42,1,1,0,0,1,.69,1.24A1,1,0,0,1,25.21,13.56Z"}),n.createElement("path",{d:"M17.7,13.56a1,1,0,0,1-.27-2,15.15,15.15,0,0,1,2.11-.42,1,1,0,1,1,.25,2,12.77,12.77,0,0,0-1.82.37A1.26,1.26,0,0,1,17.7,13.56Z"}),n.createElement("path",{d:"M12.18,16.7a1,1,0,0,1-.68-.26A1,1,0,0,1,11.44,15a11.15,11.15,0,0,1,2.14-1.72,1,1,0,0,1,1.38.31A1,1,0,0,1,14.65,15a9.94,9.94,0,0,0-1.74,1.38A1,1,0,0,1,12.18,16.7Z"}),n.createElement("rect",{className:"cls-1",width:42.91,height:42.91})))))}var $e=n.forwardRef(Qe);a.p;a.p;function et(e){var t=e.editMode;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)("button",{className:"buttonSecondary",children:"submit"}):Object(O.jsx)("button",{className:"editButton",children:Object(O.jsx)(R,{className:"editIcon"})})})}var tt=function(e){var t,a,c=Object(n.useState)(null),r=Object(i.a)(c,2),l=r[0],s=r[1],o=Object(n.useState)(Object(O.jsx)(de,{className:"icon",alt:"interval"})),u=Object(i.a)(o,2),j=u[0],b=u[1],d=Object(n.useState)(!1),x=Object(i.a)(d,2),h=x[0],m=x[1],p=function(t,a){a?a.preventDefault():t.preventDefault(),s(t),e.toggle&&e.toggle===t?(e.setToggle(null),s(null)):e.setToggle(t)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("nav",{className:"container flexRow fullWidth containerSpace",children:[Object(O.jsxs)("div",{className:"container flexRow containerLeft",children:[Object(O.jsxs)("div",{className:"dropdown left",children:[Object(O.jsx)("button",{onClick:function(e){return p("temporalObject",e)},disabled:!e.hasScales,className:"".concat(e.hasScales?"":"disabled").concat("addInstant"===e.toggle?"toolActive":""),title:"Temporal Objects",children:j}),"temporalObject"===l&&Object(O.jsxs)("ul",{className:"dropdown-content",children:[Object(O.jsx)("li",{children:Object(O.jsxs)("button",{onClick:function(e){p("addInterval",e),b(Object(O.jsx)(de,{className:"icon",alt:"Interval"}))},title:"Interval",children:[Object(O.jsx)(de,{alt:"Interval"}),"Interval"]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("button",{onClick:function(e){p("addInstant",e),b(Object(O.jsx)(le,{className:"icon",alt:"Instant"}))},title:"Instant",children:[Object(O.jsx)(le,{alt:"Instant"}),"Instant"]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("button",{onClick:function(e){p("addZone",e),b(Object(O.jsx)(ye,{className:"icon",alt:"Zone"}))},title:"Zone",children:[Object(O.jsx)(ye,{alt:"Zone"}),"Zone"]})})]})]}),Object(O.jsxs)("div",{className:"dropdown left",children:[Object(O.jsx)("button",{onClick:function(e){return p("inflections",e)},disabled:!e.hasScales,className:e.hasScales?"":"disabled",title:"Inflections",children:Object(O.jsx)($e,{className:"icon",alt:"Cancelled"})}),"inflections"===l&&Object(O.jsxs)("ul",{className:"dropdown-content  ",children:[Object(O.jsx)("li",{className:"subheading",children:"Semantic"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("importance",e)},children:"Importance"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("certainty",e)},children:"Certainty"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("cancelled",e)},children:"Cancelled"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("foreshadowing",e)},children:"Foreshadowing"})}),Object(O.jsx)("li",{className:"subheading",children:"Syntactic"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("connection",e)},children:"Connection"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{children:"Causality"})})]})]}),Object(O.jsxs)("div",{className:"dropdown left",children:[Object(O.jsx)("button",{onClick:function(e){return p("scales",e)},disabled:!e.proj,className:e.proj?"":"disabled",title:"Scales",children:Object(O.jsx)(Ue,{className:"icon",alt:"Scales"})}),"scales"===l&&Object(O.jsxs)("ul",{className:"dropdown-content  ",children:[Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("editScale",e)},disabled:!e.hasScales,className:e.hasScales?"":"disabled",title:"Edit Scale",children:"Edit Scale"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("addScale",e)},title:"Create Scale",children:"Create Scale"})})]})]}),Object(O.jsxs)("div",{className:"dropdown left",children:[Object(O.jsx)("button",(t={className:"fullWidth",onClick:function(e){return p("file",e)},disabled:!e.proj},Object(f.a)(t,"className",e.proj?"":"disabled"),Object(f.a)(t,"title","File"),Object(f.a)(t,"children",Object(O.jsx)($,{className:"icon",alt:"File"})),t)),"file"===l&&Object(O.jsxs)("ul",{className:"dropdown-content  ",children:[Object(O.jsx)("li",{className:"subheading",children:"Edit"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:e.undo,children:"Undo"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("redo",e)},children:"Redo"})}),Object(O.jsx)("li",{className:"subheading",children:"Document"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("import",e)},children:"Import Data"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("save",e)},children:"Save & Export"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{id:"importImg",children:"Import Image"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{children:"Import from Library"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{children:"New Project"})})]})]})]}),e.proj&&Object(O.jsxs)("form",{className:"container flexRow flexCenter",onSubmit:function(e){e.preventDefault(),m(!h)},children:[Object(O.jsx)(U,{name:"name",value:e.fileName,nullValue:"Untitled",inputType:"text",placeholder:"insert file name",editMode:h,handleChange:function(t){return e.setFileName(t.target.value)},required:!0}),Object(O.jsx)("br",{}),Object(O.jsx)(et,{editMode:h})]}),Object(O.jsxs)("div",{className:"right container flexRow containerRight",children:[Object(O.jsx)("button",(a={className:"right",onClick:function(e){return p("pan",e)},disabled:!e.hasScales},Object(f.a)(a,"className",e.hasScales?"":"disabled"),Object(f.a)(a,"title","Pan"),Object(f.a)(a,"children",Object(O.jsx)(Fe,{className:"icon",alt:"Pan"})),a)),Object(O.jsxs)("div",{className:"dropdown right",children:[Object(O.jsx)("button",{onClick:function(e){return p("views",e)},disabled:!e.hasScales,className:e.hasScales?"":"disabled",title:"Views",children:Object(O.jsx)(_e,{className:"icon",alt:"Views"})}),"views"===l&&Object(O.jsxs)("ul",{className:"dropdown-content rightPos",children:[Object(O.jsx)("li",{className:"subheading",children:"Graphics"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{children:"Working Data"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("scrubber",e)},children:"Scrubber"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{children:"Emperical/Relative Scales"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("layers",e)},children:"Layers"})}),Object(O.jsx)("li",{className:"subheading",children:"UI"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("showLabel",e)},children:e.showLabel?"Show IDs":"Show Labels"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(e){return p("legend",e)},children:"Legend"})})]})]}),Object(O.jsxs)("div",{className:"dropdown right",children:[Object(O.jsx)("button",{onClick:function(e){return p("menu",e)},title:"Menu",children:Object(O.jsx)(ke,{className:"icon",alt:"Menu"})}),"menu"===l&&Object(O.jsxs)("ul",{className:"dropdown-content rightPos",children:[Object(O.jsx)("li",{className:"subheading",children:"Settings"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{id:"acessibility",children:"Accessibility"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{id:"theme",children:"Theme"})}),Object(O.jsx)("li",{className:"subheading",children:"Chrono Vis"}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{id:"about",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{id:"documentation",children:"Documentation"})})]})]})]})]})})};var at=function(e){e.activeLayer;var t=e.setActiveLayer,a=e.data,n=function(e){var a=e.target.parentNode;t(parseInt(a.id)),e.preventDefault()},c=Object(s.a)(new Set(a.map((function(e){return e.layer})))).sort((function(e,t){return e-t})).filter((function(e){return 0!==e})).map((function(e){return Object(O.jsxs)("li",{id:e,children:[" Layer ",e," ",Object(O.jsx)("button",{onClick:n,children:"Select"})]},e)}));return Object(O.jsxs)("div",{className:"ui absolute dropdown rightPos",children:["Layers",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["All layers ",Object(O.jsx)("button",{onClick:n,children:"Select"})]}),c]})]})};var nt=function(e){var t=e.activeData,a=e.setActiveData,n=e.src,c=e.setData,r=function(e){"foward"===e.target.id?a(t+=1):a(t-=1),c(n.instants[t])};return Object(O.jsxs)("div",{className:"ui absolute center",children:[Object(O.jsx)("button",{id:"back",onClick:r,disabled:0===t,children:"<"}),t,Object(O.jsx)("button",{id:"foward",onClick:r,disabled:t===n.instants.length-1,children:">"})]})};var ct=function(){return Object(O.jsxs)("div",{className:"ui absolute dropdown rightPos",children:["Legend",Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{style:{backgroundColor:"black"},children:"\u2003"})," Hank"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{style:{backgroundColor:"red"},children:"\u2003"})," Peggy"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("span",{style:{backgroundColor:"#4DA6FF"},children:"\u2003"})," Bobby"]})]})]})};var rt=function(e){return e.target?e.target.source?Object(O.jsxs)("p",{children:["Selected: ",e.target.source.name," (",e.target.source.id,") \u2013 ",e.target.target.name," (",e.target.target.id,")"]}):e.target.start?Object(O.jsxs)("p",{children:["Selected: ",e.target.name," (",e.target.start," - ",e.target.end,")"]}):Object(O.jsxs)("p",{children:["Selected: ",e.target.name," (",e.target.id,")"]}):Object(O.jsx)("p",{children:"Selected: None"})};var lt=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(O.jsxs)("form",{className:"ui absolute center",onSubmit:function(t){if(t.preventDefault(),e.target.start){var a=Object(s.a)(e.zones);return a.find((function(t){return t.id===e.target.id})).opacity=.5*parseFloat(c),void e.setZones(a)}var n=Object(s.a)(e.data);if(e.target.source){n.find((function(t){return t.id===e.target.source.id})).intervalOpacity=parseFloat(c)}else{var r=n.find((function(t){return t.id===e.target.id}));r.intervalOpacity=r.opacity?r.opacity:1,r.opacity=parseFloat(c)}e.updateSrc(n)},children:[Object(O.jsx)("button",{className:"right",onClick:function(t){e.setToggle(null),t.preventDefault()},children:"x"}),Object(O.jsx)("br",{}),Object(O.jsx)(rt,{target:e.target[1].text}),Object(O.jsxs)("label",{children:["Certainty",Object(O.jsx)("input",{type:"text",placeholder:"0 (never) - 1 (certain)",value:c,onChange:function(e){return r(e.target.value)},required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]})};var st=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(O.jsxs)("form",{className:"ui absolute center",onSubmit:function(t){if(t.preventDefault(),e.target.start){var a=Object(s.a)(e.Zones);return a.find((function(t){return t.id===e.target.id})).importance=parseFloat(c),void e.setZones(a)}var n=Object(s.a)(e.data);if(e.target.source){var r=n.find((function(t){return t.id===e.target.source.id}));r.intervalWidth=r.intervalWidth?r.intervalWidth*(1+c/2):e.radius/3*(1+c/2)}else{var l=n.find((function(t){return t.id===e.target.id}));l.radius=l.radius?l.radius*(1+c/2):e.radius*(1+c/2)}e.setData(n)},children:[Object(O.jsx)("button",{className:"right",onClick:function(t){e.setToggle(null),t.preventDefault()},children:"x"}),Object(O.jsx)("br",{}),Object(O.jsx)(rt,{target:e.target}),Object(O.jsxs)("label",{children:["Importance",Object(O.jsx)("input",{type:"number",placeholder:"ints relative to 0 (+ and -)",value:c,onChange:function(e){return r(e.target.value)},required:!0})]}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]})};var it=function(e){return Object(O.jsxs)("form",{className:"ui absolute center",onSubmit:function(t){if(t.preventDefault(),e.target[0]&&e.target[0]){var a=Object(s.a)(e.data),n=a.find((function(t){return t.id===e.target[0].id}));if(e.target[1].x){var c=e.target[1];n.connections=[{x:c.x,y:c.y,scale:c.scale},0]}else{var r=a.find((function(t){return t.id===e.target[1].id}));n.connections=[r.id,0],r.connections=[n.id,1]}e.setData(a)}else console.log("error")},children:[Object(O.jsx)("button",{className:"right",onClick:function(t){e.setToggle(null),t.preventDefault()},children:"x"}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Connect",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:e.target[0]?"".concat(e.target[0].name,"(").concat(e.target[0].id,")"):"None"})," ",!e.target[2]&&"<",Object(O.jsx)("br",{}),"with",Object(O.jsx)("br",{}),Object(O.jsx)("b",{children:e.target[1]?"".concat(e.target[1].name,"(").concat(e.target[1].id,")"):"None"})," ",1===e.target[2]&&"<"]}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]})};var ot=function(e){var t=e.setProj,a=e.setFileName,c=e.setToggle,r=Object(n.useState)(""),l=Object(i.a)(r,2),s=l[0],o=l[1];return Object(O.jsx)("div",{className:"fullHeight container bgSecondary",children:Object(O.jsxs)("div",{className:"flexCenter thirdWidth",children:[Object(O.jsxs)("h1",{children:["Hi, welcome to ",Object(O.jsx)("br",{}),"ChronoVis: Paintbox."]}),Object(O.jsx)("p",{className:"smallTxt",children:"By Johanna Drucker, developed by Skye Hoffman."}),Object(O.jsxs)("p",{className:"smallTxt",children:["A no-code graphical interface for generating temporal data visualizations, designed by the humanities for the humanities. ",Object(O.jsx)("a",{href:"#",children:"More info here."})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{className:"container containerStretch flexRow",onSubmit:function(e){e.preventDefault(),t(!0),a(s)},children:[Object(O.jsx)("input",{type:"text",className:"flexGrow2",placeholder:"insert project name",value:s,onChange:function(e){return o(e.target.value)},required:!0}),"\xa0\xa0\xa0",Object(O.jsx)("button",{className:"buttonPrimary",children:"Create Project"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"container flexRow",children:[Object(O.jsx)("button",{className:"buttonPrimary",onClick:function(e){return c("import")},children:"Import Project"}),"\xa0\xa0\xa0",Object(O.jsx)("button",{className:"buttonPrimary",onClick:function(e){e.preventDefault(),window.open("https://youtu.be/y0sMNCfgH-8")},children:"First Time?"})]})]})})};var ut=function(e){var t=e.setToggle;return Object(O.jsxs)("div",{className:"flexCenter",children:[Object(O.jsx)("button",{className:"buttonPrimary",onClick:function(){return t("import")},children:"Upload data"})," or ",Object(O.jsx)("button",{className:"buttonPrimary",onClick:function(){return t("addScale")},children:"Create a scale"})]})};var jt=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),c=Object(i.a)(a,2),r=c[0],l=c[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),b=u[0],d=u[1],x=Object(n.useState)(j),h=Object(i.a)(x,2),f=h[0],y=h[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),S=v[0],N=v[1],w=Object(n.useState)(0),k=Object(i.a)(w,2),E=k[0],D=k[1],F=Object(n.useState)(),I=Object(i.a)(F,2),L=I[0],A=I[1],Z=Object(n.useState)(),q=Object(i.a)(Z,2),R=(q[0],q[1],Object(n.useState)(f.instants[E])),U=Object(i.a)(R,2),B=U[0],H=U[1],W=Object(n.useState)(f.zones),_=Object(i.a)(W,2),J=_[0],G=_[1],K=Object(n.useState)(f.scales),Q=Object(i.a)(K,2),$=Q[0],ee=Q[1],te=Object(n.useState)(!0),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)([Object.keys($.x)[0],Object.keys($.y)[0]]),le=Object(i.a)(re,2),se=le[0],ie=le[1],oe=Object(n.useState)(),ue=Object(i.a)(oe,2),je=ue[0],be=ue[1],de=Object(n.useState)(),xe=Object(i.a)(de,2),he=xe[0],Oe=xe[1],me=Object(n.useState)(),pe=Object(i.a)(me,2),fe=pe[0],ye=pe[1],ge=Object(n.useState)([null,null,null]),ve=Object(i.a)(ge,2),Se=ve[0],Ne=ve[1],we=function(e,t){N([].concat(Object(s.a)(S),[{src:f,activeScale:se,activeData:E,activeLayer:L}]));var a=f;"zones"===t?(G(e),a.zones=J):"scales"===t?(ee(e),a.scales=e):(H(e),a.instants[E]=B),console.log(S),y(a),be(null)};return Object(O.jsxs)(O.Fragment,{children:[he&&Object(O.jsx)(Y,{info:he,setInfo:Oe,history:S,setHistory:N,data:B,setData:H,src:f,setSrc:y,updateSrc:we,zones:J,radius:4}),Object(O.jsx)(tt,{toggle:je,setToggle:be,data:B,showLabel:ne,setShowLabel:ce,hasScales:Object.keys($.y).length,fileName:b,setFileName:d,proj:r,undo:function(){var e=Object(s.a)(S),t=e.pop();e.length&&void 0!==t&&(console.log(e.pop()),N([e]),ie(t.activeScale),D(t.activeData),A(t.activeLayer),y(t.src),ee(t.src.scales),H(t.src.instants[E]),G(t.src.zones))}}),"scrubber"===je&&Object(O.jsx)(nt,{activeData:E,setActiveData:D,src:f,setData:H}),"NewInstantForm"===je&&Object(O.jsx)(C,{data:B,setData:H,target:fe,setToggle:be,scales:f.scales,activeScale:se,activeData:E,history:S,setHistory:N,updateSrc:we}),"editScale"===je&&Object(O.jsx)(V,{scales:$,updateSrc:we,setToggle:be,activeScale:se,setActiveScale:ie}),"addZone"===je&&Object(O.jsx)(M,{zones:J,updateSrc:we,setToggle:be,scales:$,activeScale:se}),"addInterval"===je&&Object(O.jsx)(T,{data:B,updateSrc:we,setToggle:be,scales:$,activeScale:se,history:S,setHistory:N}),"addScale"===je&&Object(O.jsx)(P,{src:f,updateSrc:we,setToggle:be,setActiveScale:ie}),"save"===je&&Object(O.jsx)(z,{src:f,setSrc:y,data:B,zones:J,scales:$,activeData:E,setToggle:be,fileName:b}),"legend"===je&&Object(O.jsx)(ct,{}),"layers"===je&&Object(O.jsx)(at,{activeLayer:L,setActiveLayer:A,data:B}),"import"===je&&Object(O.jsx)(X,{setSrc:y,setScales:ee,setZones:G,setData:H,activeData:E,setActiveData:D,activeScale:se,setActiveScale:ie,setToggle:be,setProj:l,setFileName:d}),"certainty"===je&&Object(O.jsx)(lt,{target:fe,setToggle:be,data:B,updateSrc:we,zones:J,setZones:G}),"importance"===je&&Object(O.jsx)(st,{target:fe,setToggle:be,data:B,setData:H,zones:J,setZones:G,radius:4,setProj:l}),"connection"===je&&Object(O.jsx)(it,{target:Se,setToggle:be,data:B,setData:H,zones:J,setZones:G}),r?Object(O.jsxs)("div",{id:"main",className:"container fullHeight",children:[Object.keys($.x).length?Object(O.jsx)(m,{data:B,setData:H,updateSrc:we,zones:J,setZones:G,radius:4,info:he,setInfo:Oe,setInflectTarget:ye,showLabel:ne,activeLayer:L,toggle:je,setToggle:be,scales:$,setScales:ee,syntacticOrder:Se,setSyntacticOrder:Ne,activeScale:se}):Object(O.jsx)(ut,{setToggle:be}),f.imgs.length>0&&Object(O.jsx)(p,{urls:f.imgs})]}):Object(O.jsx)(ot,{setProj:l,setFileName:d,setToggle:be})]})},bt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,154)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(jt,{})}),document.getElementById("root")),bt()},36:function(e){e.exports=JSON.parse('{"imgs":[],"instants":[{}],"zones":[],"scales":{"x":{},"y":{}}}')}},[[153,1,2]]]);
//# sourceMappingURL=main.ddaf8527.chunk.js.map